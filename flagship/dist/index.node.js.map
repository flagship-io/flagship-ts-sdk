{"version":3,"sources":["webpack://flagship/./node_modules/axios/index.js","webpack://flagship/./node_modules/axios/lib/adapters/http.js","webpack://flagship/./node_modules/axios/lib/adapters/xhr.js","webpack://flagship/./node_modules/axios/lib/axios.js","webpack://flagship/./node_modules/axios/lib/cancel/Cancel.js","webpack://flagship/./node_modules/axios/lib/cancel/CancelToken.js","webpack://flagship/./node_modules/axios/lib/cancel/isCancel.js","webpack://flagship/./node_modules/axios/lib/core/Axios.js","webpack://flagship/./node_modules/axios/lib/core/InterceptorManager.js","webpack://flagship/./node_modules/axios/lib/core/buildFullPath.js","webpack://flagship/./node_modules/axios/lib/core/createError.js","webpack://flagship/./node_modules/axios/lib/core/dispatchRequest.js","webpack://flagship/./node_modules/axios/lib/core/enhanceError.js","webpack://flagship/./node_modules/axios/lib/core/mergeConfig.js","webpack://flagship/./node_modules/axios/lib/core/settle.js","webpack://flagship/./node_modules/axios/lib/core/transformData.js","webpack://flagship/./node_modules/axios/lib/defaults.js","webpack://flagship/./node_modules/axios/lib/helpers/bind.js","webpack://flagship/./node_modules/axios/lib/helpers/buildURL.js","webpack://flagship/./node_modules/axios/lib/helpers/combineURLs.js","webpack://flagship/./node_modules/axios/lib/helpers/cookies.js","webpack://flagship/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://flagship/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://flagship/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://flagship/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://flagship/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://flagship/./node_modules/axios/lib/helpers/spread.js","webpack://flagship/./node_modules/axios/lib/utils.js","webpack://flagship/external \"follow-redirects\"","webpack://flagship/external \"http\"","webpack://flagship/external \"https\"","webpack://flagship/external \"url\"","webpack://flagship/external \"zlib\"","webpack://flagship/webpack/bootstrap","webpack://flagship/webpack/runtime/compat get default export","webpack://flagship/webpack/runtime/define property getters","webpack://flagship/webpack/runtime/hasOwnProperty shorthand","webpack://flagship/webpack/runtime/make namespace object","webpack://flagship/external \"events\"","webpack://flagship/./src/nodeDeps.ts","webpack://flagship/./src/enum/LogLevel.ts","webpack://flagship/./src/enum/FlagshipConstant.ts","webpack://flagship/./src/enum/FlagshipStatus.ts","webpack://flagship/./src/enum/HitType.ts","webpack://flagship/./src/visitor/Visitor.ts","webpack://flagship/./src/config/FlagshipConfig.ts","webpack://flagship/./src/utils/utils.ts","webpack://flagship/./src/hit/Event.ts","webpack://flagship/./src/config/DecisionApiConfig.ts","webpack://flagship/./src/config/ConfigManager.ts","webpack://flagship/./src/model/Modification.ts","webpack://flagship/./src/decision/DecisionManager.ts","webpack://flagship/./src/decision/ApiManager.ts","webpack://flagship/./src/hit/HitAbstract.ts","webpack://flagship/./src/hit/Item.ts","webpack://flagship/./src/hit/Page.ts","webpack://flagship/./src/hit/Screen.ts","webpack://flagship/./src/hit/Transaction.ts","webpack://flagship/./src/api/TrackingManagerAbstract.ts","webpack://flagship/./src/api/TrackingManager.ts","webpack://flagship/./src/utils/NodeHttpClient.ts","webpack://flagship/./src/utils/FlagshipLogManager.ts","webpack://flagship/./src/config/BucketingConfig.ts","webpack://flagship/./src/visitor/VisitorStrategyAbstract.ts","webpack://flagship/./src/visitor/DefaultStrategy.ts","webpack://flagship/./src/visitor/NotReadyStrategy.ts","webpack://flagship/./src/visitor/PanicStrategy.ts","webpack://flagship/./src/visitor/NoConsentStrategy.ts","webpack://flagship/./src/visitor/VisitorCache.ts","webpack://flagship/./src/visitor/VisitorAbstract.ts","webpack://flagship/./src/visitor/VisitorDelegate.ts","webpack://flagship/./src/decision/BucketingManager.ts","webpack://flagship/./src/utils/MurmurHash.ts","webpack://flagship/./src/main/Flagship.ts","webpack://flagship/./src/enum/FlagshipContext.ts"],"names":["module","exports","utils","settle","buildFullPath","buildURL","http","https","httpFollow","httpsFollow","url","zlib","pkg","createError","enhanceError","isHttps","setProxy","options","proxy","location","hostname","host","port","path","auth","base64","Buffer","from","username","password","toString","headers","beforeRedirect","redirection","href","config","Promise","resolvePromise","rejectPromise","resolve","value","reject","data","version","isStream","isBuffer","isArrayBuffer","Uint8Array","isString","length","undefined","fullPath","baseURL","parsed","parse","protocol","urlAuth","split","Authorization","isHttpsRequest","test","agent","httpsAgent","httpAgent","params","paramsSerializer","replace","method","toUpperCase","agents","socketPath","transport","proxyEnv","slice","proxyUrl","process","env","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","map","s","trim","some","proxyElement","substr","proxyUrlAuth","isHttpsProxy","maxRedirects","maxBodyLength","req","request","res","aborted","stream","lastRequest","statusCode","decompress","pipe","createUnzip","response","status","statusText","statusMessage","responseType","responseBuffer","on","chunk","push","maxContentLength","concat","destroy","err","responseData","responseEncoding","stripBOM","code","timeout","setTimeout","abort","cancelToken","promise","then","cancel","end","cookies","parseHeaders","isURLSameOrigin","requestData","requestHeaders","isFormData","XMLHttpRequest","unescape","encodeURIComponent","btoa","open","onreadystatechange","readyState","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseText","onabort","onerror","ontimeout","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","xsrfHeaderName","forEach","val","key","toLowerCase","setRequestHeader","isUndefined","e","onDownloadProgress","addEventListener","onUploadProgress","upload","send","bind","Axios","mergeConfig","createInstance","defaultConfig","context","instance","prototype","extend","axios","create","instanceConfig","defaults","Cancel","CancelToken","isCancel","all","promises","spread","isAxiosError","default","message","this","__CANCEL__","executor","TypeError","token","reason","throwIfRequested","source","c","InterceptorManager","dispatchRequest","interceptors","arguments","chain","interceptor","unshift","fulfilled","rejected","shift","getUri","handlers","use","eject","id","fn","h","isAbsoluteURL","combineURLs","requestedURL","error","Error","transformData","throwIfCancellationRequested","transformRequest","merge","common","adapter","transformResponse","toJSON","name","description","number","fileName","lineNumber","columnNumber","stack","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","isPlainObject","isArray","mergeDeepProperties","prop","axiosKeys","otherKeys","Object","keys","filter","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","call","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","JSON","stringify","thisArg","args","Array","i","apply","encode","serializedParams","parts","v","isDate","toISOString","join","hashmarkIndex","relativeURL","write","expires","domain","secure","cookie","isNumber","Date","toGMTString","document","match","RegExp","decodeURIComponent","remove","now","payload","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","setAttribute","search","hash","pathname","charAt","window","requestURL","normalizedName","ignoreDuplicateOf","line","callback","arr","getPrototypeOf","isFunction","obj","l","hasOwnProperty","constructor","FormData","ArrayBuffer","isView","URLSearchParams","product","result","assignValue","a","b","str","content","charCodeAt","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","r","Symbol","toStringTag","LogLevel","axiosInstance","HttpAgent","HttpAgents","keepAlive","FlagshipStatus","HitType","SDK_LANGUAGE","SDK_VERSION","EMIT_READY","GET_MODIFICATION_KEY_ERROR","GET_MODIFICATION_ERROR","TYPE_ERROR","VISITOR_ID_ERROR","METHOD_DEACTIVATED_ERROR","PROCESS_INITIALIZATION","PROCESS_UPDATE_CONTEXT","PROCESS_GET_MODIFICATION","PROCESS_GET_MODIFICATION_INFO","PROCESS_ACTIVE_MODIFICATION","PROCESS_SEND_HIT","HEADER_APPLICATION_JSON","extendStatics","DecisionMode","__extends","setPrototypeOf","__proto__","p","String","__","Visitor","_super","visitorDelegate","_this","emit","visitorId","set","configurable","anonymousId","hasConsented","setConsent","modifications","updateContext","clearContext","getModification","activateAll","getModificationSync","getModificationInfo","getModificationInfoSync","synchronizeModifications","activateModification","activateModificationSync","sendHit","hit","sendHitSync","getAllModifications","activate","getModificationsForCampaign","campaignId","authenticate","unauthenticate","EventEmitter","sprintf","format","_i","formatted","element","logError","tag","logManager","logLevel","ERROR","logInfo","info","INFO","EventCategory","FlagshipConfig","param","envId","apiKey","statusChangedCallback","fetchNow","decisionMode","enableClientCache","_envId","_apiKey","ALL","_decisionMode","DECISION_API","_enableClientCache","_onBucketingSuccess","_onBucketingFail","_onBucketingUpdated","_timeout","_logLevel","_fetchNow","_pollingInterval","_statusChangedCallback","_logManager","__assign","assign","t","DecisionApiConfig","ConfigManager","decisionManager","trackingManager","_config","_decisionManager","_trackingManager","Modification","variationGroupId","variationId","isReference","_key","_campaignId","_variationGroupId","_variationId","_isReference","_value","DecisionManager","httpClient","_panic","_httpClient","updateFlagshipStatus","READY_PANIC_ON","READY","getModifications","campaigns","Map","campaign","object","variation","reference","getCampaignsModificationsAsync","visitor","_arguments","generator","body","f","y","g","_","label","sent","trys","ops","next","verb","iterator","op","done","pop","step","__generator","_a","getCampaignsAsync","catch","P","isPanic","ApiManager","HEADER_X_API_KEY","HEADER_X_SDK_CLIENT","HEADER_X_SDK_VERSION","HEADER_CONTENT_TYPE","postData","trigger_hit","postAsync","panic","HitAbstract","type","_anonymousId","_visitorId","_ds","_type","isNotEmptyString","itemName","isNumeric","isInteger","Number","toApiKeys","apiKeys","ds","isReady","Event","event","EVENT","category","action","eventLabel","eventValue","_category","_action","_eventLabel","_eventValue","getErrorMessage","Item","item","ITEM","transactionId","productName","productSku","itemCategory","itemPrice","itemQuantity","_transactionId","_productName","_productSku","_itemPrice","_itemQuantity","Math","trunc","_itemCategory","Page","page","PAGE_VIEW","documentLocation","_documentLocation","Screen","screen","SCREEN_VIEW","Transaction","transaction","TRANSACTION","affiliation","taxes","currency","couponCode","itemCount","shippingMethod","paymentMethod","totalRevenue","shippingCosts","_affiliation","_taxes","_currency","_couponCode","_itemCount","_shippingMethod","_paymentMethod","_totalRevenue","_shippingCosts","TrackingManagerAbstract","TrackingManager","sendConsentHit","_b","postBody","USER_ENGAGEMENT","sendActive","modification","HttpClient","getResponse","getAsync","FlagshipLogManager","emergency","log","EMERGENCY","alert","ALERT","critical","CRITICAL","warning","WARNING","notice","NOTICE","debug","DEBUG","level","getTwoDigit","out","getFullYear","getMonth","getDay","getHours","getMinutes","console","BucketingConfig","BUCKETING","pollingInterval","onBucketingFail","onBucketingSuccess","onBucketingUpdated","VisitorStrategyAbstract","configManager","DefaultStrategy","hasTrackingManager","updateContextKeyValue","valueType","predefinedContext","getPredefinedContext","check","checkAndGetModification","defaultValue","getHit","newHit","PAGE","SCREEN","prepareAndSendHit","hitInstance","hitFromInt","x","functionName","logDeactivateOnBucketing","NotReadyStrategy","methodName","NOT_INITIALIZED","PanicStrategy","NoConsentStrategy","CLIENT_CACHE_KEY","VisitorAbstract","isAuthenticated","_configManager","VisitorCache","localStorage","getItem","cacheVisitor","createVisitorId","_modifications","_context","loadPredefinedContext","uuidV4","updateCache","visitorProfile","setItem","fs_client","fs_version","fs_users","char","rand","random","floor","twoDigits","getDate","_hasConsented","getStrategy","_campaigns","Flagship","getStatus","VisitorDelegate","BucketingManager","murmurHash","_murmurHash","_isFirstPooling","initStartPolling","_isPooling","POLLING","finishLoop","_bucketingContent","lastModified","_lastModified","startPolling","error_1","_c","ms","stopPolling","sendContext","visitorCampaigns","currentCampaigns","getVisitorCampaigns","variationGroups","variationGroups_1","variationGroup","isMatchTargeting","variations","getVariation","hashAllocation","murmurHash3Int32","totalAllocation","allocation","targeting","targetingGroups","targetingGroup","checkAndTargeting","targetings","contextValue","targetings_1","testOperator","operator","MurmurHash","seed","h1","h1b","k1","remainder","bytes","c1","c2","_configManger","getInstance","_instance","_d","setStatus","statusChanged","_status","getConfig","buildConfig","buildDecisionManager","flagship","bucketingManager","start","STARTING","newVisitor","params2","DEVICE_LOCALE","DEVICE_TYPE","DEVICE_MODEL","LOCATION_CITY","LOCATION_REGION","LOCATION_COUNTRY","LOCATION_LAT","LOCATION_LONG","IP","OS_NAME","OS_VERSION_NAME","OS_VERSION_CODE","CARRIER_NAME","INTERNET_CONNECTION","APP_VERSION_NAME","APP_VERSION_CODE","INTERFACE_NAME","FLAGSHIP_CLIENT","FLAGSHIP_VERSION","FLAGSHIP_VISITOR"],"mappings":"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","file":"index.node.js","sourcesContent":["module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // Only set header if it hasn't been set in config\n    // See https://github.com/axios/axios/issues/69\n    if (!headers['User-Agent'] && !headers['user-agent']) {\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(config.timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","module.exports = require(\"follow-redirects\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"url\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"events\");","import axios from 'axios';\nexport var axiosInstance = axios.create({});\nif (typeof window === 'undefined') {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    var HttpAgent = require('http').Agent;\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    var HttpAgents = require('https').Agent;\n    axiosInstance.defaults.httpAgent = new HttpAgent({ keepAlive: true });\n    axiosInstance.defaults.httpsAgent = new HttpAgents({ keepAlive: true });\n}\nexport var defaultAxios = axios;\nexport { EventEmitter } from 'events';\n","export var LogLevel;\n(function (LogLevel) {\n    /**\n       * NONE = 0: Logging will be disabled.\n       */\n    LogLevel[LogLevel[\"NONE\"] = 0] = \"NONE\";\n    /**\n       * EMERGENCY = 1: Only emergencies will be logged.\n       */\n    LogLevel[LogLevel[\"EMERGENCY\"] = 1] = \"EMERGENCY\";\n    /**\n       * ALERT = 2: Only alerts and above will be logged.\n       */\n    LogLevel[LogLevel[\"ALERT\"] = 2] = \"ALERT\";\n    /**\n       * CRITICAL = 3: Only critical and above will be logged.\n       */\n    LogLevel[LogLevel[\"CRITICAL\"] = 3] = \"CRITICAL\";\n    /**\n       * ERROR = 4: Only errors and above will be logged.\n       */\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n    /**\n       * WARNING = 5: Only warnings and above will be logged.\n       */\n    LogLevel[LogLevel[\"WARNING\"] = 5] = \"WARNING\";\n    /**\n       * NOTICE = 6: Only notices and above will be logged.\n       */\n    LogLevel[LogLevel[\"NOTICE\"] = 6] = \"NOTICE\";\n    /**\n       * INFO = 7: Only info logs and above will be logged.\n       */\n    LogLevel[LogLevel[\"INFO\"] = 7] = \"INFO\";\n    /**\n       * DEBUG = 8: Only debug logs and above will be logged.\n       */\n    LogLevel[LogLevel[\"DEBUG\"] = 8] = \"DEBUG\";\n    /**\n       * ALL = 9: All logs will be logged.\n       */\n    LogLevel[LogLevel[\"ALL\"] = 9] = \"ALL\";\n})(LogLevel || (LogLevel = {}));\n","/**\n * SDK language\n */\nexport var SDK_LANGUAGE = 'TypeScript';\n/**\n * Default request timeout in second\n */\nexport var REQUEST_TIME_OUT = 2;\n/**\n * Decision api base url\n */\nexport var BASE_API_URL = 'https://decision.flagship.io/v2/';\nexport var HIT_API_URL = 'https://ariane.abtasty.com';\nexport var BUCKETING_API_URL = 'https://cdn.flagship.io/{0}/bucketing.json';\nexport var BUCKETING_API_CONTEXT_URL = 'https://decision.flagship.io/v2/{0}/events';\nexport var HIT_CONSENT_URL = 'https://ariane.abtasty.com';\nexport var URL_CAMPAIGNS = '/campaigns';\nexport var URL_ACTIVATE_MODIFICATION = 'activate';\nexport var EXPOSE_ALL_KEYS = 'exposeAllKeys';\nexport var SEND_CONTEXT_EVENT = 'sendContextEvent';\n/**\n * SDK version\n */\nexport var SDK_VERSION = 'v2';\n/**\n * Message Info\n */\nexport var SDK_STARTED_INFO = 'Flagship SDK (version: {0}) READY';\nexport var FLAGSHIP_SDK = 'Flagship SDK';\nexport var EMIT_READY = 'ready';\n/**\n * Message Error\n */\nexport var INITIALIZATION_PARAM_ERROR = \"Params 'envId' and 'apiKey' must not be null or empty.\";\nexport var ERROR = 'error';\nexport var CONTEXT_NULL_ERROR = 'Context must not to be null';\nexport var CONTEXT_PARAM_ERROR = \"params {0} must be a non null String, and 'value' must be one of the following types , Number, Boolean\";\nexport var GET_MODIFICATION_CAST_ERROR = 'Modification for key {0} has a different type. Default value is returned.';\nexport var GET_MODIFICATION_MISSING_ERROR = 'No modification for key {0}. Default value is returned.';\nexport var GET_MODIFICATION_KEY_ERROR = 'Key {0} must not be null. Default value is returned.';\nexport var GET_MODIFICATION_ERROR = 'No modification for key {0}.';\nexport var DECISION_MANAGER_MISSING_ERROR = 'decisionManager must not be null.';\nexport var TRACKER_MANAGER_MISSING_ERROR = 'trackerManager must not be null.';\nexport var CURL_LIBRARY_IS_NOT_LOADED = 'curl library is not loaded';\nexport var TYPE_ERROR = '{0} must be a {1}';\nexport var TYPE_INTEGER_ERROR = 'value of {0} is not an {1}, it will be truncated to {1}';\nexport var VISITOR_ID_ERROR = 'visitorId must not be null or empty';\nexport var PANIC_MODE_ERROR = '{0} deactivated while panic mode is on.';\nexport var METHOD_DEACTIVATED_CONSENT_ERROR = 'Method {0} is deactivated for visitor {1} : visitor did not consent.';\nexport var METHOD_DEACTIVATED_ERROR = 'Method {0} is deactivated while SDK status is: {1}.';\nexport var METHOD_DEACTIVATED_BUCKETING_ERROR = 'Method {0} is deactivated on Bucketing mode.';\nexport var FLAGSHIP_VISITOR_NOT_AUTHENTICATE = 'Visitor is not authenticated yet';\nexport var PREDEFINED_CONTEXT_TYPE_ERROR = 'Predefined Context {0} must be type of {1}';\nexport var METHOD_DEACTIVATED_SEND_CONSENT_ERROR = 'Send consent hit is deactivated while SDK status is: {1}.';\n// Process\nexport var PROCESS = 'process';\nexport var PROCESS_INITIALIZATION = 'INITIALIZATION';\nexport var PROCESS_UPDATE_CONTEXT = 'UPDATE CONTEXT';\nexport var PROCESS_GET_MODIFICATION = 'GET MODIFICATION';\nexport var PROCESS_GET_MODIFICATION_INFO = 'GET MODIFICATION INFO';\nexport var PROCESS_NEW_VISITOR = 'NEW VISITOR';\nexport var PROCESS_ACTIVE_MODIFICATION = 'ACTIVE MODIFICATION';\nexport var PROCESS_SYNCHRONIZED_MODIFICATION = 'SYNCHRONIZED MODIFICATION';\nexport var PROCESS_SEND_HIT = 'SEND HIT';\nexport var PROCESS_SEND_ACTIVATE = 'SEND ACTIVATE';\nexport var PROCESS_GET_CAMPAIGNS = 'GET CAMPAIGNS';\nexport var PROCESS_GET_ALL_MODIFICATION = 'GET ALL MODIFICATIONS';\nexport var PROCESS_MODIFICATIONS_FOR_CAMPAIGN = 'GET MODIFICATION FOR CAMPAIGN';\n// Api items\nexport var CUSTOMER_ENV_ID_API_ITEM = 'cid';\nexport var CUSTOMER_UID = 'cuid';\nexport var ANONYMOUS_ID = 'aid';\nexport var VISITOR_ID_API_ITEM = 'vid';\nexport var VARIATION_GROUP_ID_API_ITEM = 'caid';\nexport var VARIATION_ID_API_ITEM = 'vaid';\nexport var DS_API_ITEM = 'ds';\nexport var T_API_ITEM = 't';\nexport var DL_API_ITEM = 'dl';\nexport var SDK_APP = 'APP';\nexport var TID_API_ITEM = 'tid';\nexport var TA_API_ITEM = 'ta';\nexport var TT_API_ITEM = 'tt';\nexport var TC_API_ITEM = 'tc';\nexport var TCC_API_ITEM = 'tcc';\nexport var ICN_API_ITEM = 'icn';\nexport var SM_API_ITEM = 'sm';\nexport var PM_API_ITEM = 'pm';\nexport var TR_API_ITEM = 'tr';\nexport var TS_API_ITEM = 'ts';\nexport var IN_API_ITEM = 'in';\nexport var IC_API_ITEM = 'ic';\nexport var IP_API_ITEM = 'ip';\nexport var IQ_API_ITEM = 'iq';\nexport var IV_API_ITEM = 'iv';\nexport var EVENT_CATEGORY_API_ITEM = 'ec';\nexport var EVENT_ACTION_API_ITEM = 'ea';\nexport var EVENT_LABEL_API_ITEM = 'el';\nexport var EVENT_VALUE_API_ITEM = 'ev';\nexport var HEADER_X_API_KEY = 'x-api-key';\nexport var HEADER_CONTENT_TYPE = 'Content-Type';\nexport var HEADER_X_SDK_CLIENT = 'x-sdk-client';\nexport var HEADER_X_SDK_VERSION = 'x-sdk-version';\nexport var HEADER_APPLICATION_JSON = 'application/json';\n","export var FlagshipStatus;\n(function (FlagshipStatus) {\n    /**\n        * It is the default initial status. This status remains until the sdk has been initialized successfully.\n        * Flagship SDK has not been started or initialized successfully.\n        * @deprecated in v2, use FlagshipStatus::NOT_INITIALIZED instead of\n        */\n    FlagshipStatus[FlagshipStatus[\"NOT_READY\"] = 0] = \"NOT_READY\";\n    /**\n     * It is the default initial status. This status remains until the sdk has been initialized successfully.\n     */\n    FlagshipStatus[FlagshipStatus[\"NOT_INITIALIZED\"] = 0] = \"NOT_INITIALIZED\";\n    /**\n     * Flagship SDK is starting.\n     */\n    FlagshipStatus[FlagshipStatus[\"STARTING\"] = 1] = \"STARTING\";\n    /**\n     * Flagship SDK has been started successfully but is still polling campaigns.\n     */\n    FlagshipStatus[FlagshipStatus[\"POLLING\"] = 2] = \"POLLING\";\n    /**\n     * Flagship SDK is ready but is running in Panic mode: All features are disabled except the one which refresh this status.\n     */\n    FlagshipStatus[FlagshipStatus[\"READY_PANIC_ON\"] = 3] = \"READY_PANIC_ON\";\n    /**\n     * Flagship SDK is ready to use.\n     */\n    FlagshipStatus[FlagshipStatus[\"READY\"] = 4] = \"READY\";\n})(FlagshipStatus || (FlagshipStatus = {}));\n","export var HitType;\n(function (HitType) {\n    /**\n     * User has seen a URL\n     *\n     */\n    HitType[\"PAGE_VIEW\"] = \"PAGEVIEW\";\n    /**\n     * User has seen a URL\n     *\n     */\n    HitType[\"PAGE\"] = \"PAGE\";\n    /**\n     * User has seen a screen.\n     *\n     */\n    HitType[\"SCREEN_VIEW\"] = \"SCREENVIEW\";\n    /**\n     * User has seen a screen.\n     *\n     */\n    HitType[\"SCREEN\"] = \"SCREEN\";\n    /**\n     * User has made a transaction.\n     *\n     */\n    HitType[\"TRANSACTION\"] = \"TRANSACTION\";\n    /**\n     * Item bought in a transaction.\n     *\n     */\n    HitType[\"ITEM\"] = \"ITEM\";\n    /**\n     * User has made a specific action.\n     *\n     */\n    HitType[\"EVENT\"] = \"EVENT\";\n})(HitType || (HitType = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventEmitter } from '../nodeDeps';\nimport { EMIT_READY } from '../enum/index';\nvar Visitor = /** @class */ (function (_super) {\n    __extends(Visitor, _super);\n    function Visitor(visitorDelegate) {\n        var _this = _super.call(this) || this;\n        _this.visitorDelegate = visitorDelegate;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.visitorDelegate.on(EMIT_READY, function (err) {\n            _this.emit(EMIT_READY, err);\n        });\n        return _this;\n    }\n    Object.defineProperty(Visitor.prototype, \"visitorId\", {\n        get: function () {\n            return this.visitorDelegate.visitorId;\n        },\n        set: function (v) {\n            this.visitorDelegate.visitorId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Visitor.prototype, \"anonymousId\", {\n        get: function () {\n            return this.visitorDelegate.anonymousId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Visitor.prototype, \"hasConsented\", {\n        get: function () {\n            return this.visitorDelegate.hasConsented;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Visitor.prototype.setConsent = function (hasConsented) {\n        this.visitorDelegate.setConsent(hasConsented);\n    };\n    Object.defineProperty(Visitor.prototype, \"config\", {\n        get: function () {\n            return this.visitorDelegate.config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Visitor.prototype, \"context\", {\n        get: function () {\n            return this.visitorDelegate.context;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Visitor.prototype, \"modifications\", {\n        get: function () {\n            return this.visitorDelegate.modifications;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Visitor.prototype.updateContext = function (context) {\n        this.visitorDelegate.updateContext(context);\n    };\n    Visitor.prototype.clearContext = function () {\n        this.visitorDelegate.clearContext();\n    };\n    Visitor.prototype.getModification = function (params, activateAll) {\n        return this.visitorDelegate.getModification(params, activateAll);\n    };\n    Visitor.prototype.getModificationSync = function (params, activateAll) {\n        return this.visitorDelegate.getModificationSync(params, activateAll);\n    };\n    Visitor.prototype.getModificationInfo = function (key) {\n        return this.visitorDelegate.getModificationInfo(key);\n    };\n    Visitor.prototype.getModificationInfoSync = function (key) {\n        return this.visitorDelegate.getModificationInfoSync(key);\n    };\n    Visitor.prototype.synchronizeModifications = function () {\n        return this.visitorDelegate.synchronizeModifications();\n    };\n    Visitor.prototype.activateModification = function (params) {\n        return this.visitorDelegate.activateModification(params);\n    };\n    Visitor.prototype.activateModificationSync = function (params) {\n        this.visitorDelegate.activateModificationSync(params);\n    };\n    Visitor.prototype.sendHit = function (hit) {\n        return this.visitorDelegate.sendHit(hit);\n    };\n    Visitor.prototype.sendHitSync = function (hit) {\n        return this.visitorDelegate.sendHitSync(hit);\n    };\n    Visitor.prototype.getAllModifications = function (activate) {\n        if (activate === void 0) { activate = false; }\n        return this.visitorDelegate.getAllModifications(activate);\n    };\n    Visitor.prototype.getModificationsForCampaign = function (campaignId, activate) {\n        if (activate === void 0) { activate = false; }\n        return this.visitorDelegate.getModificationsForCampaign(campaignId, activate);\n    };\n    Visitor.prototype.authenticate = function (visitorId) {\n        this.visitorDelegate.authenticate(visitorId);\n    };\n    Visitor.prototype.unauthenticate = function () {\n        this.visitorDelegate.unauthenticate();\n    };\n    return Visitor;\n}(EventEmitter));\nexport { Visitor };\n","import { LogLevel, REQUEST_TIME_OUT } from '../enum/index';\nimport { logError } from '../utils/utils';\nexport var DecisionMode;\n(function (DecisionMode) {\n    /**\n     * Flagship SDK mode decision api\n     */\n    DecisionMode[DecisionMode[\"DECISION_API\"] = 0] = \"DECISION_API\";\n    /**\n     * Flagship SDK mode bucketing\n     */\n    DecisionMode[DecisionMode[\"BUCKETING\"] = 1] = \"BUCKETING\";\n})(DecisionMode || (DecisionMode = {}));\nexport var statusChangeError = 'statusChangedCallback must be a function';\nvar FlagshipConfig = /** @class */ (function () {\n    function FlagshipConfig(param) {\n        var envId = param.envId, apiKey = param.apiKey, timeout = param.timeout, logLevel = param.logLevel, logManager = param.logManager, statusChangedCallback = param.statusChangedCallback, fetchNow = param.fetchNow, decisionMode = param.decisionMode, enableClientCache = param.enableClientCache;\n        this._envId = envId;\n        this._apiKey = apiKey;\n        this.logLevel = logLevel || LogLevel.ALL;\n        this.timeout = timeout || REQUEST_TIME_OUT;\n        this.fetchNow = typeof fetchNow === 'undefined' || fetchNow;\n        this.enableClientCache = typeof enableClientCache === 'undefined' || enableClientCache;\n        this._decisionMode = decisionMode || DecisionMode.DECISION_API;\n        if (logManager) {\n            this.logManager = logManager;\n        }\n        this.statusChangedCallback = statusChangedCallback;\n    }\n    Object.defineProperty(FlagshipConfig.prototype, \"enableClientCache\", {\n        get: function () {\n            return this._enableClientCache;\n        },\n        set: function (v) {\n            this._enableClientCache = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"onBucketingSuccess\", {\n        get: function () {\n            return this._onBucketingSuccess;\n        },\n        set: function (v) {\n            this._onBucketingSuccess = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"onBucketingFail\", {\n        get: function () {\n            return this._onBucketingFail;\n        },\n        set: function (v) {\n            this._onBucketingFail = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"onBucketingUpdated\", {\n        get: function () {\n            return this._onBucketingUpdated;\n        },\n        set: function (v) {\n            this._onBucketingUpdated = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"envId\", {\n        get: function () {\n            return this._envId;\n        },\n        set: function (value) {\n            this._envId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"apiKey\", {\n        get: function () {\n            return this._apiKey;\n        },\n        set: function (value) {\n            this._apiKey = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"decisionMode\", {\n        get: function () {\n            return this._decisionMode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"timeout\", {\n        get: function () {\n            return this._timeout;\n        },\n        set: function (value) {\n            this._timeout = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"logLevel\", {\n        get: function () {\n            return this._logLevel;\n        },\n        set: function (value) {\n            this._logLevel = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"fetchNow\", {\n        get: function () {\n            return this._fetchNow;\n        },\n        set: function (v) {\n            this._fetchNow = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"pollingInterval\", {\n        get: function () {\n            return this._pollingInterval;\n        },\n        set: function (v) {\n            this._pollingInterval = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"statusChangedCallback\", {\n        get: function () {\n            return this._statusChangedCallback;\n        },\n        set: function (fn) {\n            if (typeof fn !== 'function') {\n                logError(this, statusChangeError, 'statusChangedCallback');\n                return;\n            }\n            this._statusChangedCallback = fn;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FlagshipConfig.prototype, \"logManager\", {\n        get: function () {\n            return this._logManager;\n        },\n        set: function (value) {\n            this._logManager = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FlagshipConfig;\n}());\nexport { FlagshipConfig };\n","import { LogLevel } from '../enum/index';\n/**\n * Return a formatted string\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function sprintf(format) {\n    var value = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        value[_i - 1] = arguments[_i];\n    }\n    var formatted = format;\n    for (var i = 0; i < value.length; i++) {\n        var element = value[i];\n        formatted = formatted.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", 'g'), element);\n    }\n    return formatted;\n}\nexport function logError(config, message, tag) {\n    if (!config ||\n        !config.logManager ||\n        typeof config.logManager.error !== 'function' ||\n        !config.logLevel ||\n        config.logLevel < LogLevel.ERROR) {\n        return;\n    }\n    config.logManager.error(message, tag);\n}\nexport function logInfo(config, message, tag) {\n    if (!config ||\n        !config.logManager ||\n        typeof config.logManager.info !== 'function' ||\n        !config.logLevel ||\n        config.logLevel < LogLevel.INFO) {\n        return;\n    }\n    config.logManager.info(message, tag);\n}\nexport function sleep(ms) {\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EVENT_ACTION_API_ITEM, EVENT_CATEGORY_API_ITEM, EVENT_LABEL_API_ITEM, EVENT_VALUE_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { logError } from '../utils/utils';\nimport { HitAbstract } from './HitAbstract';\nexport var ERROR_MESSAGE = 'event category and event action are required';\nexport var CATEGORY_ERROR = 'The category value must be either EventCategory::ACTION_TRACKING or EventCategory::ACTION_TRACKING';\nexport var EventCategory;\n(function (EventCategory) {\n    EventCategory[\"ACTION_TRACKING\"] = \"ACTION_TRACKING\";\n    EventCategory[\"USER_ENGAGEMENT\"] = \"USER_ENGAGEMENT\";\n})(EventCategory || (EventCategory = {}));\nvar Event = /** @class */ (function (_super) {\n    __extends(Event, _super);\n    function Event(event) {\n        var _this = _super.call(this, HitType.EVENT) || this;\n        var category = event.category, action = event.action, eventLabel = event.eventLabel, eventValue = event.eventValue;\n        _this.category = category;\n        _this.action = action;\n        if (eventLabel) {\n            _this.eventLabel = eventLabel;\n        }\n        if (eventValue) {\n            _this.eventValue = eventValue;\n        }\n        return _this;\n    }\n    Object.defineProperty(Event.prototype, \"category\", {\n        get: function () {\n            return this._category;\n        },\n        /**\n         * Specify Action Tracking or User Engagement.\n         */\n        set: function (v) {\n            if (!(v in EventCategory)) {\n                logError(this.config, CATEGORY_ERROR, 'category');\n                return;\n            }\n            this._category = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"action\", {\n        get: function () {\n            return this._action;\n        },\n        /**\n         * Specify Event name that will also serve as the KPI\n         * that you will have inside your reporting\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'action')) {\n                return;\n            }\n            this._action = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"eventLabel\", {\n        get: function () {\n            return this._eventLabel;\n        },\n        /**\n         * Specify additional description of event.\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'eventLabel')) {\n                return;\n            }\n            this._eventLabel = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"eventValue\", {\n        get: function () {\n            return this._eventValue;\n        },\n        /**\n         * Specify the monetary value associated with an event\n         * (e.g. you earn 10 to 100 euros depending on the quality of lead generated).\n         *\n         * <br/> NOTE: this value must be non-negative.\n         */\n        set: function (v) {\n            if (!this.isNumeric(v, 'eventValue')) {\n                return;\n            }\n            this._eventValue = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Event.prototype.toApiKeys = function () {\n        var apiKeys = _super.prototype.toApiKeys.call(this);\n        apiKeys[EVENT_CATEGORY_API_ITEM] = this.category;\n        apiKeys[EVENT_ACTION_API_ITEM] = this.action;\n        if (this.eventLabel) {\n            apiKeys[EVENT_LABEL_API_ITEM] = this.eventLabel;\n        }\n        if (this.eventValue) {\n            apiKeys[EVENT_VALUE_API_ITEM] = this.eventValue;\n        }\n        return apiKeys;\n    };\n    Event.prototype.isReady = function () {\n        return !!(_super.prototype.isReady.call(this) && this.category && this.action);\n    };\n    Event.prototype.getErrorMessage = function () {\n        return ERROR_MESSAGE;\n    };\n    return Event;\n}(HitAbstract));\nexport { Event };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { DecisionMode, FlagshipConfig } from './FlagshipConfig';\nvar DecisionApiConfig = /** @class */ (function (_super) {\n    __extends(DecisionApiConfig, _super);\n    function DecisionApiConfig(param) {\n        return _super.call(this, __assign(__assign({}, param), { decisionMode: DecisionMode.DECISION_API })) || this;\n    }\n    return DecisionApiConfig;\n}(FlagshipConfig));\nexport { DecisionApiConfig };\n","var ConfigManager = /** @class */ (function () {\n    function ConfigManager(config, decisionManager, trackingManager) {\n        this._config = config;\n        this._decisionManager = decisionManager;\n        this._trackingManager = trackingManager;\n    }\n    Object.defineProperty(ConfigManager.prototype, \"config\", {\n        get: function () {\n            return this._config;\n        },\n        set: function (value) {\n            this._config = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ConfigManager.prototype, \"decisionManager\", {\n        get: function () {\n            return this._decisionManager;\n        },\n        set: function (value) {\n            this._decisionManager = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ConfigManager.prototype, \"trackingManager\", {\n        get: function () {\n            return this._trackingManager;\n        },\n        set: function (value) {\n            this._trackingManager = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ConfigManager;\n}());\nexport { ConfigManager };\n","var Modification = /** @class */ (function () {\n    function Modification(key, campaignId, variationGroupId, variationId, isReference, value) {\n        this._key = key;\n        this._campaignId = campaignId;\n        this._variationGroupId = variationGroupId;\n        this._variationId = variationId;\n        this._isReference = isReference;\n        this._value = value;\n    }\n    Object.defineProperty(Modification.prototype, \"key\", {\n        get: function () {\n            return this._key;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Modification.prototype, \"campaignId\", {\n        get: function () {\n            return this._campaignId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Modification.prototype, \"variationGroupId\", {\n        get: function () {\n            return this._variationGroupId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Modification.prototype, \"variationId\", {\n        get: function () {\n            return this._variationId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Modification.prototype, \"isReference\", {\n        get: function () {\n            return this._isReference;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Modification.prototype, \"value\", {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        get: function () {\n            return this._value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Modification;\n}());\nexport { Modification };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Modification } from '../model/Modification';\nimport { FlagshipStatus } from '../enum/index';\nvar DecisionManager = /** @class */ (function () {\n    function DecisionManager(httpClient, config) {\n        this._panic = false;\n        this._config = config;\n        this._httpClient = httpClient;\n    }\n    Object.defineProperty(DecisionManager.prototype, \"config\", {\n        get: function () {\n            return this._config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DecisionManager.prototype, \"panic\", {\n        // eslint-disable-next-line accessor-pairs\n        set: function (v) {\n            if (v) {\n                this.updateFlagshipStatus(FlagshipStatus.READY_PANIC_ON);\n            }\n            else {\n                this.updateFlagshipStatus(FlagshipStatus.READY);\n            }\n            this._panic = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DecisionManager.prototype.statusChangedCallback = function (v) {\n        this._statusChangedCallback = v;\n    };\n    DecisionManager.prototype.updateFlagshipStatus = function (v) {\n        if (typeof this._statusChangedCallback === 'function' && this._statusChangedCallback) {\n            this._statusChangedCallback(v);\n        }\n    };\n    DecisionManager.prototype.getModifications = function (campaigns) {\n        var modifications = new Map();\n        campaigns.forEach(function (campaign) {\n            var object = campaign.variation.modifications.value;\n            for (var key in object) {\n                var value = object[key];\n                modifications.set(key, new Modification(key, campaign.id, campaign.variationGroupId, campaign.variation.id, campaign.variation.reference, value));\n            }\n        });\n        return modifications;\n    };\n    DecisionManager.prototype.getCampaignsModificationsAsync = function (visitor) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        _this.getCampaignsAsync(visitor).then(function (campaigns) {\n                            resolve(_this.getModifications(campaigns));\n                        }).catch(function (error) {\n                            reject(error);\n                        });\n                    })];\n            });\n        });\n    };\n    DecisionManager.prototype.isPanic = function () {\n        return this._panic;\n    };\n    return DecisionManager;\n}());\nexport { DecisionManager };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { BASE_API_URL, EXPOSE_ALL_KEYS, HEADER_APPLICATION_JSON, HEADER_CONTENT_TYPE, HEADER_X_API_KEY, HEADER_X_SDK_CLIENT, HEADER_X_SDK_VERSION, PROCESS_GET_CAMPAIGNS, SDK_LANGUAGE, SDK_VERSION, SEND_CONTEXT_EVENT, URL_CAMPAIGNS } from '../enum/index';\nimport { DecisionManager } from './DecisionManager';\nimport { logError } from '../utils/utils';\nvar ApiManager = /** @class */ (function (_super) {\n    __extends(ApiManager, _super);\n    function ApiManager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ApiManager.prototype.getCampaignsAsync = function (visitor) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var _a;\n                        var headers = (_a = {},\n                            _a[HEADER_X_API_KEY] = \"\" + _this.config.apiKey,\n                            _a[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n                            _a[HEADER_X_SDK_VERSION] = SDK_VERSION,\n                            _a[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n                            _a);\n                        var postData = {\n                            visitorId: visitor.visitorId,\n                            anonymousId: visitor.anonymousId,\n                            trigger_hit: false,\n                            context: visitor.context\n                        };\n                        var url = \"\" + BASE_API_URL + _this.config.envId + URL_CAMPAIGNS + \"?\" + EXPOSE_ALL_KEYS + \"=true\";\n                        if (!visitor.hasConsented) {\n                            url += \"&\" + SEND_CONTEXT_EVENT + \"=false\";\n                        }\n                        _this._httpClient.postAsync(url, {\n                            headers: headers,\n                            timeout: _this.config.timeout,\n                            body: postData\n                        })\n                            .then(function (data) {\n                            if (data.body.panic) {\n                                _this.panic = true;\n                            }\n                            else {\n                                _this.panic = false;\n                            }\n                            var response = [];\n                            if (data.body.campaigns) {\n                                response = data.body.campaigns;\n                            }\n                            resolve(response);\n                        })\n                            .catch(function (error) {\n                            logError(_this.config, JSON.stringify(error), PROCESS_GET_CAMPAIGNS);\n                            reject(error);\n                        });\n                    })];\n            });\n        });\n    };\n    return ApiManager;\n}(DecisionManager));\nexport { ApiManager };\n","import { CUSTOMER_ENV_ID_API_ITEM, DS_API_ITEM, T_API_ITEM, TYPE_ERROR, VISITOR_ID_API_ITEM, TYPE_INTEGER_ERROR, CUSTOMER_UID } from '../enum/FlagshipConstant';\nimport { logError, sprintf } from '../utils/utils';\nvar HitAbstract = /** @class */ (function () {\n    function HitAbstract(type) {\n        this.type = type;\n        this._anonymousId = null;\n    }\n    Object.defineProperty(HitAbstract.prototype, \"anonymousId\", {\n        get: function () {\n            return this._anonymousId;\n        },\n        set: function (v) {\n            this._anonymousId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HitAbstract.prototype, \"visitorId\", {\n        get: function () {\n            return this._visitorId;\n        },\n        set: function (v) {\n            this._visitorId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HitAbstract.prototype, \"ds\", {\n        get: function () {\n            return this._ds;\n        },\n        set: function (v) {\n            this._ds = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HitAbstract.prototype, \"type\", {\n        get: function () {\n            return this._type;\n        },\n        set: function (v) {\n            this._type = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HitAbstract.prototype, \"config\", {\n        get: function () {\n            return this._config;\n        },\n        set: function (v) {\n            this._config = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Return true if value is a string and not empty, otherwise return false\n     * @param value\n     * @param itemName\n     * @returns\n     */\n    HitAbstract.prototype.isNotEmptyString = function (value, itemName) {\n        if (!value || typeof value !== 'string') {\n            logError(this.config, sprintf(TYPE_ERROR, itemName, 'string'), itemName);\n            return false;\n        }\n        return true;\n    };\n    HitAbstract.prototype.isNumeric = function (value, itemName) {\n        if (!value || typeof value !== 'number') {\n            logError(this.config, sprintf(TYPE_ERROR, itemName, 'number'), itemName);\n            return false;\n        }\n        return true;\n    };\n    HitAbstract.prototype.isInteger = function (value, itemName) {\n        if (!value || typeof value !== 'number') {\n            logError(this.config, sprintf(TYPE_ERROR, itemName, 'integer'), itemName);\n            return false;\n        }\n        if (!Number.isInteger(value)) {\n            logError(this.config, sprintf(TYPE_INTEGER_ERROR, itemName, 'integer'), itemName);\n        }\n        return true;\n    };\n    /**\n     * Return an object with Api parameters as keys\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    HitAbstract.prototype.toApiKeys = function () {\n        var _a;\n        var apiKeys = (_a = {},\n            _a[VISITOR_ID_API_ITEM] = this.visitorId,\n            _a[DS_API_ITEM] = this.ds,\n            _a[CUSTOMER_ENV_ID_API_ITEM] = \"\" + this.config.envId,\n            _a[T_API_ITEM] = this.type,\n            _a);\n        if (this.visitorId && this._anonymousId) {\n            apiKeys[VISITOR_ID_API_ITEM] = this._anonymousId;\n            apiKeys[CUSTOMER_UID] = this.visitorId;\n        }\n        else {\n            apiKeys[VISITOR_ID_API_ITEM] = this._anonymousId || this.visitorId;\n            apiKeys[CUSTOMER_UID] = null;\n        }\n        return apiKeys;\n    };\n    /**\n     * Return true if all required attributes are given, otherwise return false\n     */\n    HitAbstract.prototype.isReady = function () {\n        return !!(this.visitorId &&\n            this.ds &&\n            this.config &&\n            this.config.envId &&\n            this.type);\n    };\n    return HitAbstract;\n}());\nexport { HitAbstract };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IC_API_ITEM, IN_API_ITEM, IP_API_ITEM, IQ_API_ITEM, IV_API_ITEM, TID_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { HitAbstract } from './HitAbstract';\nexport var ERROR_MESSAGE = 'Transaction Id, Item name and item code are required';\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    /**\n     *Item constructor.\n     * @param transactionId : Transaction unique identifier.\n     * @param productName : Name of the item product.\n     * @param productSku : The SKU or item code.\n     */\n    function Item(item) {\n        var _this = _super.call(this, HitType.ITEM) || this;\n        var transactionId = item.transactionId, productName = item.productName, productSku = item.productSku, itemCategory = item.itemCategory, itemPrice = item.itemPrice, itemQuantity = item.itemQuantity;\n        _this.transactionId = transactionId;\n        _this.productName = productName;\n        _this.productSku = productSku;\n        if (itemCategory) {\n            _this.itemCategory = itemCategory;\n        }\n        if (itemPrice) {\n            _this.itemPrice = itemPrice;\n        }\n        if (itemQuantity) {\n            _this.itemQuantity = itemQuantity;\n        }\n        return _this;\n    }\n    Object.defineProperty(Item.prototype, \"transactionId\", {\n        get: function () {\n            return this._transactionId;\n        },\n        /**\n         * Specify transaction unique identifier.\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'transactionId')) {\n                return;\n            }\n            this._transactionId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"productName\", {\n        get: function () {\n            return this._productName;\n        },\n        /**\n         * Specify name of the item product.\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'productName')) {\n                return;\n            }\n            this._productName = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"productSku\", {\n        get: function () {\n            return this._productSku;\n        },\n        /**\n         * Specify the SKU or item code.\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'productSku')) {\n                return;\n            }\n            this._productSku = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"itemPrice\", {\n        get: function () {\n            return this._itemPrice;\n        },\n        /**\n         * Specify the price for a single item\n         */\n        set: function (v) {\n            if (!this.isNumeric(v, 'itemPrice')) {\n                return;\n            }\n            this._itemPrice = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"itemQuantity\", {\n        get: function () {\n            return this._itemQuantity;\n        },\n        /**\n         * Specify the number of items purchased.\n         */\n        set: function (v) {\n            if (!this.isInteger(v, 'itemQuantity')) {\n                return;\n            }\n            this._itemQuantity = Math.trunc(v);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Item.prototype, \"itemCategory\", {\n        get: function () {\n            return this._itemCategory;\n        },\n        /**\n         * Specify the category that the item belongs to\n         */\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'itemCategory')) {\n                return;\n            }\n            this._itemCategory = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Item.prototype.isReady = function () {\n        return !!(_super.prototype.isReady.call(this) &&\n            this.transactionId &&\n            this.productName &&\n            this.productSku);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Item.prototype.toApiKeys = function () {\n        var apiKeys = _super.prototype.toApiKeys.call(this);\n        apiKeys[TID_API_ITEM] = this.transactionId;\n        apiKeys[IN_API_ITEM] = this.productName;\n        apiKeys[IC_API_ITEM] = this.productSku;\n        if (this.itemPrice) {\n            apiKeys[IP_API_ITEM] = this.itemPrice;\n        }\n        if (this.itemQuantity) {\n            apiKeys[IQ_API_ITEM] = this.itemQuantity;\n        }\n        if (this.itemCategory) {\n            apiKeys[IV_API_ITEM] = this.itemCategory;\n        }\n        return apiKeys;\n    };\n    Item.prototype.getErrorMessage = function () {\n        return ERROR_MESSAGE;\n    };\n    return Item;\n}(HitAbstract));\nexport { Item };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DL_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { HitAbstract } from './HitAbstract';\nexport var ERROR_MESSAGE = 'documentLocation url is required';\nvar Page = /** @class */ (function (_super) {\n    __extends(Page, _super);\n    function Page(page) {\n        var _this = _super.call(this, HitType.PAGE_VIEW) || this;\n        _this.documentLocation = page === null || page === void 0 ? void 0 : page.documentLocation;\n        return _this;\n    }\n    Object.defineProperty(Page.prototype, \"documentLocation\", {\n        get: function () {\n            return this._documentLocation;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'documentLocation')) {\n                return;\n            }\n            this._documentLocation = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Page.prototype.isReady = function () {\n        return !!(_super.prototype.isReady.call(this) && this.documentLocation);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Page.prototype.toApiKeys = function () {\n        var apiKeys = _super.prototype.toApiKeys.call(this);\n        apiKeys[DL_API_ITEM] = this.documentLocation;\n        return apiKeys;\n    };\n    Page.prototype.getErrorMessage = function () {\n        return ERROR_MESSAGE;\n    };\n    return Page;\n}(HitAbstract));\nexport { Page };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DL_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { HitAbstract } from './HitAbstract';\nexport var ERROR_MESSAGE = 'Screen name is required';\nvar Screen = /** @class */ (function (_super) {\n    __extends(Screen, _super);\n    function Screen(screen) {\n        var _this = _super.call(this, HitType.SCREEN_VIEW) || this;\n        _this.documentLocation = screen === null || screen === void 0 ? void 0 : screen.documentLocation;\n        return _this;\n    }\n    Object.defineProperty(Screen.prototype, \"documentLocation\", {\n        get: function () {\n            return this._documentLocation;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'documentLocation')) {\n                return;\n            }\n            this._documentLocation = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Screen.prototype.isReady = function () {\n        return !!(_super.prototype.isReady.call(this) && this.documentLocation);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Screen.prototype.toApiKeys = function () {\n        var apiKeys = _super.prototype.toApiKeys.call(this);\n        apiKeys[DL_API_ITEM] = this.documentLocation;\n        return apiKeys;\n    };\n    Screen.prototype.getErrorMessage = function () {\n        return ERROR_MESSAGE;\n    };\n    return Screen;\n}(HitAbstract));\nexport { Screen };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ICN_API_ITEM, PM_API_ITEM, SM_API_ITEM, TA_API_ITEM, TC_API_ITEM, TCC_API_ITEM, TID_API_ITEM, TR_API_ITEM, TS_API_ITEM, TT_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { logError, sprintf } from '../utils/utils';\nimport { HitAbstract } from './HitAbstract';\nexport var CURRENCY_ERROR = '{0} must be a string and have exactly 3 letters';\nexport var ERROR_MESSAGE = 'Transaction Id and Transaction affiliation are required';\nvar Transaction = /** @class */ (function (_super) {\n    __extends(Transaction, _super);\n    function Transaction(transaction) {\n        var _this = _super.call(this, HitType.TRANSACTION) || this;\n        var transactionId = transaction.transactionId, affiliation = transaction.affiliation, taxes = transaction.taxes, currency = transaction.currency, couponCode = transaction.couponCode, itemCount = transaction.itemCount, shippingMethod = transaction.shippingMethod, paymentMethod = transaction.paymentMethod, totalRevenue = transaction.totalRevenue, shippingCosts = transaction.shippingCosts;\n        _this.transactionId = transactionId;\n        _this.affiliation = affiliation;\n        if (taxes) {\n            _this.taxes = taxes;\n        }\n        if (currency) {\n            _this.currency = currency;\n        }\n        if (couponCode) {\n            _this.couponCode = couponCode;\n        }\n        if (itemCount) {\n            _this.itemCount = itemCount;\n        }\n        if (shippingMethod) {\n            _this.shippingMethod = shippingMethod;\n        }\n        if (paymentMethod) {\n            _this.paymentMethod = paymentMethod;\n        }\n        if (totalRevenue) {\n            _this.totalRevenue = totalRevenue;\n        }\n        if (shippingCosts) {\n            _this.shippingCosts = shippingCosts;\n        }\n        return _this;\n    }\n    Object.defineProperty(Transaction.prototype, \"transactionId\", {\n        get: function () {\n            return this._transactionId;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'transactionId')) {\n                return;\n            }\n            this._transactionId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"affiliation\", {\n        get: function () {\n            return this._affiliation;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'affiliation')) {\n                return;\n            }\n            this._affiliation = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"taxes\", {\n        get: function () {\n            return this._taxes;\n        },\n        set: function (v) {\n            if (!this.isNumeric(v, 'taxes')) {\n                return;\n            }\n            this._taxes = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"currency\", {\n        get: function () {\n            return this._currency;\n        },\n        set: function (v) {\n            if (!v || typeof v !== 'string' || v.length !== 3) {\n                logError(this.config, sprintf(CURRENCY_ERROR, 'currency'), 'currency');\n                return;\n            }\n            this._currency = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"couponCode\", {\n        get: function () {\n            return this._couponCode;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'couponCode')) {\n                return;\n            }\n            this._couponCode = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"itemCount\", {\n        get: function () {\n            return this._itemCount;\n        },\n        set: function (v) {\n            if (!this.isInteger(v, 'itemCount')) {\n                return;\n            }\n            this._itemCount = Math.trunc(v);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"shippingMethod\", {\n        get: function () {\n            return this._shippingMethod;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'shippingMethod')) {\n                return;\n            }\n            this._shippingMethod = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"paymentMethod\", {\n        get: function () {\n            return this._paymentMethod;\n        },\n        set: function (v) {\n            if (!this.isNotEmptyString(v, 'paymentMethod')) {\n                return;\n            }\n            this._paymentMethod = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"totalRevenue\", {\n        get: function () {\n            return this._totalRevenue;\n        },\n        set: function (v) {\n            if (!this.isNumeric(v, 'totalRevenue')) {\n                return;\n            }\n            this._totalRevenue = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"shippingCosts\", {\n        get: function () {\n            return this._shippingCosts;\n        },\n        set: function (v) {\n            if (!this.isNumeric(v, 'shippingCosts')) {\n                return;\n            }\n            this._shippingCosts = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Transaction.prototype.isReady = function () {\n        return !!(_super.prototype.isReady.call(this) && this.transactionId && this.affiliation);\n    };\n    Transaction.prototype.toApiKeys = function () {\n        var apiKeys = _super.prototype.toApiKeys.call(this);\n        apiKeys[TID_API_ITEM] = this.transactionId;\n        apiKeys[TA_API_ITEM] = this.affiliation;\n        if (this.taxes) {\n            apiKeys[TT_API_ITEM] = this.taxes;\n        }\n        if (this.currency) {\n            apiKeys[TC_API_ITEM] = this.currency;\n        }\n        if (this.couponCode) {\n            apiKeys[TCC_API_ITEM] = this.couponCode;\n        }\n        if (this.itemCount) {\n            apiKeys[ICN_API_ITEM] = this.itemCount;\n        }\n        if (this.shippingMethod) {\n            apiKeys[SM_API_ITEM] = this.shippingMethod;\n        }\n        if (this.paymentMethod) {\n            apiKeys[PM_API_ITEM] = this.paymentMethod;\n        }\n        if (this.totalRevenue) {\n            apiKeys[TR_API_ITEM] = this.totalRevenue;\n        }\n        if (this.shippingCosts) {\n            apiKeys[TS_API_ITEM] = this.shippingCosts;\n        }\n        return apiKeys;\n    };\n    Transaction.prototype.getErrorMessage = function () {\n        return ERROR_MESSAGE;\n    };\n    return Transaction;\n}(HitAbstract));\nexport { Transaction };\n","var TrackingManagerAbstract = /** @class */ (function () {\n    function TrackingManagerAbstract(httpClient, config) {\n        this._httpClient = httpClient;\n        this._config = config;\n    }\n    Object.defineProperty(TrackingManagerAbstract.prototype, \"httpClient\", {\n        get: function () {\n            return this._httpClient;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TrackingManagerAbstract.prototype, \"config\", {\n        get: function () {\n            return this._config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TrackingManagerAbstract;\n}());\nexport { TrackingManagerAbstract };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ANONYMOUS_ID, BASE_API_URL, CUSTOMER_ENV_ID_API_ITEM, CUSTOMER_UID, DS_API_ITEM, EVENT_ACTION_API_ITEM, EVENT_CATEGORY_API_ITEM, EVENT_LABEL_API_ITEM, HEADER_APPLICATION_JSON, HEADER_CONTENT_TYPE, HEADER_X_API_KEY, HEADER_X_SDK_CLIENT, HEADER_X_SDK_VERSION, HIT_API_URL, HIT_CONSENT_URL, SDK_APP, SDK_LANGUAGE, SDK_VERSION, T_API_ITEM, URL_ACTIVATE_MODIFICATION, VARIATION_GROUP_ID_API_ITEM, VARIATION_ID_API_ITEM, VISITOR_ID_API_ITEM } from '../enum/FlagshipConstant';\nimport { HitType } from '../enum/HitType';\nimport { EventCategory } from '../hit/index';\nimport { TrackingManagerAbstract } from './TrackingManagerAbstract';\nvar TrackingManager = /** @class */ (function (_super) {\n    __extends(TrackingManager, _super);\n    function TrackingManager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TrackingManager.prototype.sendConsentHit = function (visitor) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var _a, _b;\n            var postBody = (_a = {},\n                _a[T_API_ITEM] = HitType.EVENT,\n                _a[EVENT_LABEL_API_ITEM] = SDK_LANGUAGE + \":\" + visitor.hasConsented,\n                _a[EVENT_ACTION_API_ITEM] = 'fs_content',\n                _a[EVENT_CATEGORY_API_ITEM] = EventCategory.USER_ENGAGEMENT,\n                _a[CUSTOMER_ENV_ID_API_ITEM] = _this.config.envId,\n                _a[DS_API_ITEM] = SDK_APP,\n                _a);\n            if (visitor.visitorId && visitor.anonymousId) {\n                postBody[VISITOR_ID_API_ITEM] = visitor.anonymousId;\n                postBody[CUSTOMER_UID] = visitor.visitorId;\n            }\n            else {\n                postBody[VISITOR_ID_API_ITEM] = visitor.anonymousId || visitor.visitorId;\n                postBody[CUSTOMER_UID] = null;\n            }\n            var headers = (_b = {},\n                _b[HEADER_X_API_KEY] = \"\" + _this.config.apiKey,\n                _b[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n                _b[HEADER_X_SDK_VERSION] = SDK_VERSION,\n                _b[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n                _b);\n            _this.httpClient.postAsync(HIT_CONSENT_URL, {\n                headers: headers,\n                timeout: _this.config.timeout,\n                body: postBody\n            }).then(function () {\n                resolve();\n            }).catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    TrackingManager.prototype.sendActive = function (visitor, modification) {\n        var _a, _b;\n        var _this = this;\n        var headers = (_a = {},\n            _a[HEADER_X_API_KEY] = \"\" + this.config.apiKey,\n            _a[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n            _a[HEADER_X_SDK_VERSION] = SDK_VERSION,\n            _a[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n            _a);\n        var url = \"\" + BASE_API_URL + URL_ACTIVATE_MODIFICATION;\n        var postData = (_b = {},\n            _b[VISITOR_ID_API_ITEM] = visitor.visitorId,\n            _b[VARIATION_ID_API_ITEM] = modification.variationId,\n            _b[VARIATION_GROUP_ID_API_ITEM] = modification.variationGroupId,\n            _b[CUSTOMER_ENV_ID_API_ITEM] = \"\" + this.config.envId,\n            _b);\n        if (visitor.visitorId && visitor.anonymousId) {\n            postData[VISITOR_ID_API_ITEM] = visitor.visitorId;\n            postData[ANONYMOUS_ID] = visitor.anonymousId;\n        }\n        else {\n            postData[VISITOR_ID_API_ITEM] = visitor.anonymousId || visitor.visitorId;\n            postData[ANONYMOUS_ID] = null;\n        }\n        return new Promise(function (resolve, reject) {\n            _this.httpClient\n                .postAsync(url, {\n                headers: headers,\n                timeout: _this.config.timeout,\n                body: postData\n            })\n                .then(function () {\n                resolve();\n            })\n                .catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    TrackingManager.prototype.sendHit = function (hit) {\n        var _a;\n        var _this = this;\n        var headers = (_a = {},\n            _a[HEADER_X_API_KEY] = \"\" + this.config.apiKey,\n            _a[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n            _a[HEADER_X_SDK_VERSION] = SDK_VERSION,\n            _a[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n            _a);\n        return new Promise(function (resolve, reject) {\n            _this.httpClient\n                .postAsync(HIT_API_URL, {\n                headers: headers,\n                timeout: _this.config.timeout,\n                body: hit.toApiKeys()\n            })\n                .then(function () {\n                resolve();\n            })\n                .catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    return TrackingManager;\n}(TrackingManagerAbstract));\nexport { TrackingManager };\n","import { axiosInstance } from '../nodeDeps';\nimport { REQUEST_TIME_OUT } from '../enum';\nvar HttpClient = /** @class */ (function () {\n    function HttpClient() {\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    HttpClient.prototype.getResponse = function (response) {\n        return {\n            headers: response.headers,\n            status: response.status,\n            body: response.data\n        };\n    };\n    HttpClient.prototype.getAsync = function (url, options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            axiosInstance.get(url, {\n                validateStatus: function (status) { return status < 400; },\n                headers: options === null || options === void 0 ? void 0 : options.headers,\n                timeout: ((options === null || options === void 0 ? void 0 : options.timeout) ? options.timeout : REQUEST_TIME_OUT) * 1000\n            })\n                .then(function (response) {\n                resolve(_this.getResponse(response));\n            }).catch(function (error) {\n                reject(error.message);\n            });\n        });\n    };\n    HttpClient.prototype.postAsync = function (url, options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            axiosInstance\n                .post(url, options.body, {\n                validateStatus: function (status) { return status < 400; },\n                headers: options.headers,\n                timeout: ((options === null || options === void 0 ? void 0 : options.timeout) ? options.timeout : REQUEST_TIME_OUT) * 1000\n            })\n                .then(function (response) {\n                resolve(_this.getResponse(response));\n            })\n                .catch(function (error) {\n                reject(error.message);\n            });\n        });\n    };\n    return HttpClient;\n}());\nexport { HttpClient };\n","import { FLAGSHIP_SDK, LogLevel } from '../enum/index';\nvar FlagshipLogManager = /** @class */ (function () {\n    function FlagshipLogManager() {\n    }\n    FlagshipLogManager.prototype.emergency = function (message, tag) {\n        this.log(LogLevel.EMERGENCY, message, tag);\n    };\n    FlagshipLogManager.prototype.alert = function (message, tag) {\n        this.log(LogLevel.ALERT, message, tag);\n    };\n    FlagshipLogManager.prototype.critical = function (message, tag) {\n        this.log(LogLevel.CRITICAL, message, tag);\n    };\n    FlagshipLogManager.prototype.error = function (message, tag) {\n        this.log(LogLevel.ERROR, message, tag);\n    };\n    FlagshipLogManager.prototype.warning = function (message, tag) {\n        this.log(LogLevel.WARNING, message, tag);\n    };\n    FlagshipLogManager.prototype.notice = function (message, tag) {\n        this.log(LogLevel.NOTICE, message, tag);\n    };\n    FlagshipLogManager.prototype.info = function (message, tag) {\n        this.log(LogLevel.INFO, message, tag);\n    };\n    FlagshipLogManager.prototype.debug = function (message, tag) {\n        this.log(LogLevel.DEBUG, message, tag);\n    };\n    FlagshipLogManager.prototype.log = function (level, message, tag) {\n        var now = new Date();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var getTwoDigit = function (value) {\n            return value.toString().length === 1 ? \"0\" + value : value;\n        };\n        var out = \"[\" + getTwoDigit(now.getFullYear()) + \"-\" + getTwoDigit(now.getMonth()) + \"-\" + getTwoDigit(now.getDay()) + \" \" + getTwoDigit(now.getHours()) + \":\" + getTwoDigit(now.getMinutes()) + \"] [\" + FLAGSHIP_SDK + \"] [\" + LogLevel[level] + \"] [\" + tag + \"] : \" + message;\n        console.log(out);\n    };\n    return FlagshipLogManager;\n}());\nexport { FlagshipLogManager };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { REQUEST_TIME_OUT } from '../enum/index';\nimport { DecisionMode, FlagshipConfig } from './FlagshipConfig';\nvar BucketingConfig = /** @class */ (function (_super) {\n    __extends(BucketingConfig, _super);\n    function BucketingConfig(param) {\n        var _this = _super.call(this, __assign(__assign({}, param), { decisionMode: DecisionMode.BUCKETING })) || this;\n        if (param) {\n            var pollingInterval = param.pollingInterval, onBucketingFail = param.onBucketingFail, onBucketingSuccess = param.onBucketingSuccess, onBucketingUpdated = param.onBucketingUpdated;\n            _this.pollingInterval = pollingInterval !== null && pollingInterval !== void 0 ? pollingInterval : REQUEST_TIME_OUT;\n            _this.onBucketingFail = onBucketingFail;\n            _this.onBucketingSuccess = onBucketingSuccess;\n            _this.onBucketingUpdated = onBucketingUpdated;\n        }\n        else {\n            _this.pollingInterval = REQUEST_TIME_OUT;\n        }\n        return _this;\n    }\n    return BucketingConfig;\n}(FlagshipConfig));\nexport { BucketingConfig };\n","var VisitorStrategyAbstract = /** @class */ (function () {\n    function VisitorStrategyAbstract(visitor) {\n        this.visitor = visitor;\n    }\n    Object.defineProperty(VisitorStrategyAbstract.prototype, \"configManager\", {\n        get: function () {\n            return this.visitor.configManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorStrategyAbstract.prototype, \"trackingManager\", {\n        get: function () {\n            return this.configManager.trackingManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorStrategyAbstract.prototype, \"decisionManager\", {\n        get: function () {\n            return this.configManager.decisionManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorStrategyAbstract.prototype, \"config\", {\n        get: function () {\n            return this.visitor.config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return VisitorStrategyAbstract;\n}());\nexport { VisitorStrategyAbstract };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { CONTEXT_NULL_ERROR, CONTEXT_PARAM_ERROR, EMIT_READY, FLAGSHIP_VISITOR_NOT_AUTHENTICATE, GET_MODIFICATION_CAST_ERROR, GET_MODIFICATION_ERROR, GET_MODIFICATION_KEY_ERROR, GET_MODIFICATION_MISSING_ERROR, HitType, METHOD_DEACTIVATED_BUCKETING_ERROR, PREDEFINED_CONTEXT_TYPE_ERROR, PROCESS_ACTIVE_MODIFICATION, PROCESS_GET_MODIFICATION, PROCESS_GET_MODIFICATION_INFO, PROCESS_SEND_HIT, PROCESS_SYNCHRONIZED_MODIFICATION, PROCESS_UPDATE_CONTEXT, SDK_APP, TRACKER_MANAGER_MISSING_ERROR, VISITOR_ID_ERROR } from '../enum/index';\nimport { HitAbstract, Event, Screen, Item, Page, Transaction } from '../hit/index';\nimport { logError, sprintf } from '../utils/utils';\nimport { VisitorStrategyAbstract } from './VisitorStrategyAbstract';\nimport { DecisionMode } from '../config/index';\nexport var TYPE_HIT_REQUIRED_ERROR = 'property type is required and must ';\nvar DefaultStrategy = /** @class */ (function (_super) {\n    __extends(DefaultStrategy, _super);\n    function DefaultStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultStrategy.prototype.setConsent = function (hasConsented) {\n        var _this = this;\n        var method = 'setConsent';\n        this.visitor.hasConsented = hasConsented;\n        if (!this.hasTrackingManager(method)) {\n            return;\n        }\n        this.trackingManager.sendConsentHit(this.visitor)\n            .catch(function (error) {\n            logError(_this.config, error.message || error, method);\n        });\n    };\n    /**\n     *  Update the visitor context values, matching the given keys, used for targeting.\n     *\n     * A new context value associated with this key will be created if there is no previous matching value.\n     * Context key must be String, and value type must be one of the following : Number, Boolean, String.\n     * @param {string} key : context key.\n     * @param {primitive} value : context value.\n     */\n    DefaultStrategy.prototype.updateContextKeyValue = function (key, value) {\n        var valueType = typeof value;\n        if (typeof key !== 'string' ||\n            key === '' ||\n            (valueType !== 'string' && valueType !== 'number' && valueType !== 'boolean')) {\n            logError(this.visitor.config, sprintf(CONTEXT_PARAM_ERROR, key), PROCESS_UPDATE_CONTEXT);\n            return;\n        }\n        var predefinedContext = this.getPredefinedContext(key, value);\n        if (predefinedContext) {\n            if (!predefinedContext.check) {\n                logError(this.config, sprintf(PREDEFINED_CONTEXT_TYPE_ERROR, predefinedContext.key, predefinedContext.type), PROCESS_UPDATE_CONTEXT);\n                return;\n            }\n            key = predefinedContext.key;\n        }\n        if (key.match(/^fs_/i)) {\n            return;\n        }\n        this.visitor.context[key] = value;\n    };\n    DefaultStrategy.prototype.updateContext = function (context) {\n        if (!context) {\n            logError(this.visitor.config, CONTEXT_NULL_ERROR, PROCESS_UPDATE_CONTEXT);\n            return;\n        }\n        for (var key in context) {\n            var value = context[key];\n            this.updateContextKeyValue(key, value);\n        }\n    };\n    DefaultStrategy.prototype.getPredefinedContext = function (key, value) {\n        var checkRegex = key.match(/^{\"key\":\".*\",.\"type\":\"[a-z]*\"}$/);\n        if (checkRegex) {\n            var predefinedContext = JSON.parse(key);\n            var check = void 0;\n            switch (predefinedContext.type) {\n                case 'string':\n                    check = typeof value === 'string';\n                    break;\n                case 'number':\n                    check = typeof value === 'number';\n                    break;\n                default:\n                    check = false;\n                    break;\n            }\n            return {\n                key: predefinedContext.key,\n                check: check,\n                type: predefinedContext.type\n            };\n        }\n        return null;\n    };\n    DefaultStrategy.prototype.clearContext = function () {\n        this.visitor.context = {};\n    };\n    DefaultStrategy.prototype.getModification = function (params, activateAll) {\n        return Promise.resolve(this.getModificationSync(params, activateAll));\n    };\n    DefaultStrategy.prototype.checkAndGetModification = function (params, activateAll) {\n        var _this = this;\n        var key = params.key, defaultValue = params.defaultValue, activate = params.activate;\n        if (!key || typeof key !== 'string') {\n            logError(this.config, sprintf(GET_MODIFICATION_KEY_ERROR, key), PROCESS_GET_MODIFICATION);\n            return defaultValue;\n        }\n        var modification = this.visitor.modifications.get(key);\n        if (!modification) {\n            logError(this.config, sprintf(GET_MODIFICATION_MISSING_ERROR, key), PROCESS_GET_MODIFICATION);\n            return defaultValue;\n        }\n        var castError = function () {\n            logError(_this.config, sprintf(GET_MODIFICATION_CAST_ERROR, key), PROCESS_GET_MODIFICATION);\n            if (!modification.value && (activate || activateAll)) {\n                _this.activateModificationSync(key);\n            }\n        };\n        if (typeof modification.value === 'object' &&\n            typeof defaultValue === 'object' &&\n            Array.isArray(modification.value) !== Array.isArray(defaultValue)) {\n            castError();\n            return defaultValue;\n        }\n        if (typeof modification.value !== typeof defaultValue) {\n            castError();\n            return defaultValue;\n        }\n        if (activate || activateAll) {\n            this.activateModification(key);\n        }\n        return modification.value;\n    };\n    DefaultStrategy.prototype.getModificationSync = function (params, activateAll) {\n        var _this = this;\n        if (Array.isArray(params)) {\n            return params.map(function (item) {\n                return _this.checkAndGetModification(item, activateAll);\n            });\n        }\n        return this.checkAndGetModification(params, activateAll);\n    };\n    DefaultStrategy.prototype.getModificationInfo = function (key) {\n        return Promise.resolve(this.getModificationInfoSync(key));\n    };\n    DefaultStrategy.prototype.getModificationInfoSync = function (key) {\n        if (!key || typeof key !== 'string') {\n            logError(this.visitor.config, sprintf(GET_MODIFICATION_KEY_ERROR, key), PROCESS_GET_MODIFICATION_INFO);\n            return null;\n        }\n        var modification = this.visitor.modifications.get(key);\n        if (!modification) {\n            logError(this.visitor.config, sprintf(GET_MODIFICATION_ERROR, key), PROCESS_GET_MODIFICATION_INFO);\n            return null;\n        }\n        return modification;\n    };\n    DefaultStrategy.prototype.synchronizeModifications = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.decisionManager.getCampaignsAsync(_this.visitor)\n                .then(function (campaigns) {\n                _this.visitor.campaigns = campaigns;\n                _this.visitor.modifications = _this.decisionManager.getModifications(_this.visitor.campaigns);\n                _this.visitor.emit(EMIT_READY);\n                resolve();\n            })\n                .catch(function (error) {\n                _this.visitor.emit(EMIT_READY, error);\n                logError(_this.config, error.message || error, PROCESS_SYNCHRONIZED_MODIFICATION);\n                resolve();\n            });\n        });\n    };\n    DefaultStrategy.prototype.activateModification = function (params) {\n        return Promise.resolve(this.activateModificationSync(params));\n    };\n    DefaultStrategy.prototype.hasTrackingManager = function (process) {\n        var check = this.trackingManager;\n        if (!check) {\n            logError(this.config, sprintf(TRACKER_MANAGER_MISSING_ERROR), process);\n        }\n        return !!check;\n    };\n    DefaultStrategy.prototype.activate = function (key) {\n        var _this = this;\n        var modification = this.visitor.modifications.get(key);\n        if (!modification) {\n            logError(this.visitor.config, sprintf(GET_MODIFICATION_ERROR, key), PROCESS_ACTIVE_MODIFICATION);\n            return;\n        }\n        if (!this.hasTrackingManager(PROCESS_ACTIVE_MODIFICATION)) {\n            return;\n        }\n        this.trackingManager.sendActive(this.visitor, modification)\n            .catch(function (error) {\n            logError(_this.config, error.message || error, PROCESS_ACTIVE_MODIFICATION);\n        });\n    };\n    DefaultStrategy.prototype.activateModificationSync = function (params) {\n        var _this = this;\n        if (!params || (typeof params !== 'string' && !Array.isArray(params))) {\n            logError(this.config, sprintf(GET_MODIFICATION_KEY_ERROR, params), PROCESS_ACTIVE_MODIFICATION);\n            return;\n        }\n        if (typeof params === 'string') {\n            this.activate(params);\n        }\n        else if (Array.isArray(params)) {\n            params.forEach(function (item) {\n                if (typeof item === 'string') {\n                    _this.activate(item);\n                }\n                else\n                    _this.activate(item.key);\n            });\n        }\n    };\n    DefaultStrategy.prototype.sendHit = function (hit) {\n        return Promise.resolve(this.sendHitSync(hit));\n    };\n    DefaultStrategy.prototype.getHit = function (hit) {\n        var newHit = null;\n        switch (hit.type.toUpperCase()) {\n            case HitType.EVENT:\n                newHit = new Event(hit);\n                break;\n            case HitType.ITEM:\n                newHit = new Item(hit);\n                break;\n            case HitType.PAGE:\n            case HitType.PAGE_VIEW:\n                newHit = new Page(hit);\n                break;\n            case HitType.SCREEN:\n            case HitType.SCREEN_VIEW:\n                newHit = new Screen(hit);\n                break;\n            case HitType.TRANSACTION:\n                newHit = new Transaction(hit);\n                break;\n        }\n        return newHit;\n    };\n    DefaultStrategy.prototype.prepareAndSendHit = function (hit) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hitInstance, hitFromInt;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (hit instanceof HitAbstract) {\n                    hitInstance = hit;\n                }\n                else {\n                    hitFromInt = this.getHit(hit);\n                    if (!hitFromInt) {\n                        logError(this.config, TYPE_HIT_REQUIRED_ERROR, PROCESS_SEND_HIT);\n                        return [2 /*return*/];\n                    }\n                    hitInstance = hitFromInt;\n                }\n                hitInstance.visitorId = this.visitor.visitorId;\n                hitInstance.ds = SDK_APP;\n                hitInstance.config = this.config;\n                hitInstance.anonymousId = this.visitor.anonymousId;\n                if (!hitInstance.isReady()) {\n                    logError(this.config, hitInstance.getErrorMessage(), PROCESS_SEND_HIT);\n                    return [2 /*return*/];\n                }\n                this.trackingManager.sendHit(hitInstance).catch(function (error) {\n                    logError(_this.config, error.message || error, PROCESS_SEND_HIT);\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    DefaultStrategy.prototype.sendHitSync = function (hit) {\n        var _this = this;\n        if (!this.hasTrackingManager(PROCESS_SEND_HIT)) {\n            return;\n        }\n        if (Array.isArray(hit)) {\n            hit.forEach(function (item) {\n                _this.prepareAndSendHit(item);\n            });\n        }\n        else {\n            this.prepareAndSendHit(hit);\n        }\n    };\n    /**\n     * returns a Promise<object> containing all the data for all the campaigns associated with the current visitor.\n     *@deprecated\n     */\n    DefaultStrategy.prototype.getAllModifications = function (activate) {\n        var _this = this;\n        if (activate === void 0) { activate = false; }\n        if (activate) {\n            this.visitor.modifications.forEach(function (_, key) {\n                _this.activateModification(key);\n            });\n        }\n        return Promise.resolve({\n            visitorId: this.visitor.visitorId,\n            campaigns: this.visitor.campaigns\n        });\n    };\n    /**\n     * Get data for a specific campaign.\n     * @param campaignId Identifies the campaign whose modifications you want to retrieve.\n     * @param activate\n     * @deprecated\n     * @returns\n     */\n    DefaultStrategy.prototype.getModificationsForCampaign = function (campaignId, activate) {\n        var _this = this;\n        if (activate === void 0) { activate = false; }\n        if (activate) {\n            this.visitor.modifications.forEach(function (value) {\n                if (value.campaignId === campaignId) {\n                    _this.activateModification(value.key);\n                }\n            });\n        }\n        return Promise.resolve({\n            visitorId: this.visitor.visitorId,\n            campaigns: this.visitor.campaigns.filter(function (x) { return x.id === campaignId; })\n        });\n    };\n    DefaultStrategy.prototype.authenticate = function (visitorId) {\n        var functionName = 'authenticate';\n        if (this.config.decisionMode === DecisionMode.BUCKETING) {\n            this.logDeactivateOnBucketing(functionName);\n            return;\n        }\n        if (!visitorId) {\n            logError(this.config, VISITOR_ID_ERROR, functionName);\n            return;\n        }\n        this.visitor.anonymousId = this.visitor.visitorId;\n        this.visitor.visitorId = visitorId;\n    };\n    DefaultStrategy.prototype.unauthenticate = function () {\n        var functionName = 'unauthenticate';\n        if (this.config.decisionMode === DecisionMode.BUCKETING) {\n            this.logDeactivateOnBucketing(functionName);\n            return;\n        }\n        if (!this.visitor.anonymousId) {\n            logError(this.config, FLAGSHIP_VISITOR_NOT_AUTHENTICATE, functionName);\n            return;\n        }\n        this.visitor.visitorId = this.visitor.anonymousId;\n        this.visitor.anonymousId = null;\n    };\n    DefaultStrategy.prototype.logDeactivateOnBucketing = function (functionName) {\n        logError(this.config, sprintf(METHOD_DEACTIVATED_BUCKETING_ERROR, functionName), functionName);\n    };\n    return DefaultStrategy;\n}(VisitorStrategyAbstract));\nexport { DefaultStrategy };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { FlagshipStatus, METHOD_DEACTIVATED_ERROR } from '../enum/index';\nimport { logError, sprintf } from '../utils/utils';\nimport { DefaultStrategy } from './DefaultStrategy';\nvar NotReadyStrategy = /** @class */ (function (_super) {\n    __extends(NotReadyStrategy, _super);\n    function NotReadyStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NotReadyStrategy.prototype.synchronizeModifications = function () {\n        this.log('synchronizeModifications');\n        return Promise.resolve();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NotReadyStrategy.prototype.getModificationSync = function (params, activateAll) {\n        this.log('getModification');\n        if (Array.isArray(params)) {\n            return params.map(function (item) {\n                return item.defaultValue;\n            });\n        }\n        return params.defaultValue;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NotReadyStrategy.prototype.getModificationInfoSync = function (key) {\n        this.log('getModificationInfo');\n        return null;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NotReadyStrategy.prototype.activateModificationSync = function (params) {\n        this.log('activateModification');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NotReadyStrategy.prototype.sendHitSync = function (hit) {\n        this.log('sendHit');\n    };\n    NotReadyStrategy.prototype.log = function (methodName) {\n        logError(this.config, sprintf(METHOD_DEACTIVATED_ERROR, methodName, FlagshipStatus[FlagshipStatus.NOT_INITIALIZED]), methodName);\n    };\n    return NotReadyStrategy;\n}(DefaultStrategy));\nexport { NotReadyStrategy };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { FlagshipStatus, METHOD_DEACTIVATED_ERROR, METHOD_DEACTIVATED_SEND_CONSENT_ERROR } from '../enum/index';\nimport { logError, sprintf } from '../utils/utils';\nimport { DefaultStrategy } from './DefaultStrategy';\nvar PanicStrategy = /** @class */ (function (_super) {\n    __extends(PanicStrategy, _super);\n    function PanicStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.setConsent = function (hasConsented) {\n        this.visitor.hasConsented = hasConsented;\n        var methodName = 'setConsent';\n        logError(this.config, sprintf(METHOD_DEACTIVATED_SEND_CONSENT_ERROR, FlagshipStatus[FlagshipStatus.READY_PANIC_ON]), methodName);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.updateContext = function (context) {\n        this.log('updateContext');\n    };\n    PanicStrategy.prototype.clearContext = function () {\n        this.log('clearContext');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.getModificationSync = function (params, activateAll) {\n        this.log('getModification');\n        if (Array.isArray(params)) {\n            return params.map(function (item) {\n                return item.defaultValue;\n            });\n        }\n        return params.defaultValue;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.getModificationInfoSync = function (key) {\n        this.log('getModificationInfo');\n        return null;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.activateModificationSync = function (params) {\n        this.log('activateModification');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PanicStrategy.prototype.sendHitSync = function (hit) {\n        this.log('sendHit');\n    };\n    PanicStrategy.prototype.log = function (methodName) {\n        logError(this.config, sprintf(METHOD_DEACTIVATED_ERROR, methodName, FlagshipStatus[FlagshipStatus.READY_PANIC_ON]), methodName);\n    };\n    return PanicStrategy;\n}(DefaultStrategy));\nexport { PanicStrategy };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { METHOD_DEACTIVATED_CONSENT_ERROR } from '../enum/index';\nimport { logError, sprintf } from '../utils/utils';\nimport { DefaultStrategy } from './DefaultStrategy';\nvar NoConsentStrategy = /** @class */ (function (_super) {\n    __extends(NoConsentStrategy, _super);\n    function NoConsentStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NoConsentStrategy.prototype.activateModificationSync = function (params) {\n        this.log('activateModification');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NoConsentStrategy.prototype.sendHitSync = function (hit) {\n        this.log('sendHit');\n    };\n    NoConsentStrategy.prototype.log = function (methodName) {\n        logError(this.config, sprintf(METHOD_DEACTIVATED_CONSENT_ERROR, methodName, this.visitor.visitorId), methodName);\n    };\n    return NoConsentStrategy;\n}(DefaultStrategy));\nexport { NoConsentStrategy };\n","export var CLIENT_CACHE_KEY = 'FS_CLIENT_VISITOR';\nexport var cacheVisitor = {\n    saveVisitorProfile: function (visitorProfile) {\n        try {\n            localStorage.setItem(CLIENT_CACHE_KEY, JSON.stringify(visitorProfile));\n        }\n        catch (error) {\n        }\n    },\n    loadVisitorProfile: function () {\n        var data = null;\n        try {\n            data = localStorage.getItem(CLIENT_CACHE_KEY);\n        }\n        catch (error) {\n        }\n        return data ? JSON.parse(data) : null;\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DecisionMode } from '../config/index';\nimport { FlagshipStatus, SDK_LANGUAGE, SDK_VERSION, VISITOR_ID_ERROR } from '../enum/index';\nimport { logError } from '../utils/utils';\nimport { DefaultStrategy } from './DefaultStrategy';\nimport { EventEmitter } from '../nodeDeps';\nimport { Flagship } from '../main/Flagship';\nimport { NotReadyStrategy } from './NotReadyStrategy';\nimport { PanicStrategy } from './PanicStrategy';\nimport { NoConsentStrategy } from './NoConsentStrategy';\nimport { cacheVisitor } from './VisitorCache';\nvar VisitorAbstract = /** @class */ (function (_super) {\n    __extends(VisitorAbstract, _super);\n    function VisitorAbstract(param) {\n        var _this = this;\n        var visitorId = param.visitorId, configManager = param.configManager, context = param.context, isAuthenticated = param.isAuthenticated, hasConsented = param.hasConsented;\n        _this = _super.call(this) || this;\n        _this._configManager = configManager;\n        var VisitorCache = _this.config.enableClientCache ? cacheVisitor.loadVisitorProfile() : null;\n        _this.visitorId = visitorId || (VisitorCache === null || VisitorCache === void 0 ? void 0 : VisitorCache.visitorId) || _this.createVisitorId();\n        _this._modifications = new Map();\n        _this.campaigns = [];\n        _this._context = {};\n        _this.updateContext(context);\n        _this._anonymousId = (VisitorCache === null || VisitorCache === void 0 ? void 0 : VisitorCache.anonymousId) || null;\n        _this.loadPredefinedContext();\n        if (!hasConsented) {\n            _this.setConsent(hasConsented !== null && hasConsented !== void 0 ? hasConsented : false);\n        }\n        _this.hasConsented = hasConsented !== null && hasConsented !== void 0 ? hasConsented : false;\n        if (!_this._anonymousId && isAuthenticated && _this.config.decisionMode === DecisionMode.DECISION_API) {\n            _this._anonymousId = _this.uuidV4();\n        }\n        _this.updateCache();\n        return _this;\n    }\n    VisitorAbstract.prototype.updateCache = function () {\n        var visitorProfil = {\n            visitorId: this.visitorId,\n            anonymousId: this.anonymousId\n        };\n        cacheVisitor.saveVisitorProfile(visitorProfil);\n    };\n    VisitorAbstract.prototype.loadPredefinedContext = function () {\n        this.context.fs_client = SDK_LANGUAGE;\n        this.context.fs_version = SDK_VERSION;\n        this.context.fs_users = this.visitorId;\n    };\n    VisitorAbstract.prototype.uuidV4 = function () {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (char) {\n            var rand = Math.random() * 16 | 0;\n            var value = char === 'x' ? rand : (rand & 0x3 | 0x8);\n            return value.toString(16);\n        });\n    };\n    VisitorAbstract.prototype.createVisitorId = function () {\n        var now = new Date();\n        var random = Math.floor(Math.random() * (99999 - 10000) + 10000);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var twoDigits = function (value) { return (value.toString().length === 1 ? \"0\" + value : value); };\n        return \"\" + now.getFullYear() + twoDigits(now.getMonth() + 1) + twoDigits(now.getDate()) + twoDigits(now.getHours()) + twoDigits(now.getMinutes()) + random;\n    };\n    Object.defineProperty(VisitorAbstract.prototype, \"visitorId\", {\n        get: function () {\n            return this._visitorId;\n        },\n        set: function (v) {\n            if (!v || typeof v !== 'string') {\n                logError(this.config, VISITOR_ID_ERROR, 'VISITOR ID');\n                return;\n            }\n            this._visitorId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"hasConsented\", {\n        /**\n         * Return True or False if the visitor has consented for protected data usage.\n         * @return bool\n         */\n        get: function () {\n            return this._hasConsented;\n        },\n        set: function (v) {\n            this._hasConsented = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n      * Set if visitor has consented for protected data usage.\n      * @param {boolean} hasConsented True if the visitor has consented false otherwise.\n      */\n    VisitorAbstract.prototype.setConsent = function (hasConsented) {\n        this.getStrategy().setConsent(hasConsented);\n    };\n    Object.defineProperty(VisitorAbstract.prototype, \"context\", {\n        get: function () {\n            return this._context;\n        },\n        /**\n        * Clear the current context and set a new context value\n        */\n        set: function (v) {\n            this._context = {};\n            this.updateContext(v);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"modifications\", {\n        get: function () {\n            return this._modifications;\n        },\n        set: function (v) {\n            this._modifications = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"configManager\", {\n        get: function () {\n            return this._configManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"config\", {\n        get: function () {\n            return this.configManager.config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"campaigns\", {\n        get: function () {\n            return this._campaigns;\n        },\n        set: function (v) {\n            this._campaigns = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VisitorAbstract.prototype, \"anonymousId\", {\n        get: function () {\n            return this._anonymousId;\n        },\n        set: function (v) {\n            this._anonymousId = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    VisitorAbstract.prototype.getStrategy = function () {\n        var strategy;\n        if (!Flagship.getStatus() || Flagship.getStatus() === FlagshipStatus.NOT_INITIALIZED) {\n            strategy = new NotReadyStrategy(this);\n        }\n        else if (Flagship.getStatus() === FlagshipStatus.READY_PANIC_ON) {\n            strategy = new PanicStrategy(this);\n        }\n        else if (!this.hasConsented) {\n            strategy = new NoConsentStrategy(this);\n        }\n        else {\n            strategy = new DefaultStrategy(this);\n        }\n        return strategy;\n    };\n    return VisitorAbstract;\n}(EventEmitter));\nexport { VisitorAbstract };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { VisitorAbstract } from './VisitorAbstract';\nvar VisitorDelegate = /** @class */ (function (_super) {\n    __extends(VisitorDelegate, _super);\n    function VisitorDelegate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VisitorDelegate.prototype.updateContext = function (context) {\n        this.getStrategy().updateContext(context);\n    };\n    VisitorDelegate.prototype.clearContext = function () {\n        this.getStrategy().clearContext();\n    };\n    VisitorDelegate.prototype.getModification = function (params, activateAll) {\n        return this.getStrategy().getModification(params, activateAll);\n    };\n    VisitorDelegate.prototype.getModificationSync = function (params, activateAll) {\n        return this.getStrategy().getModificationSync(params, activateAll);\n    };\n    VisitorDelegate.prototype.getModificationInfo = function (key) {\n        return this.getStrategy().getModificationInfo(key);\n    };\n    VisitorDelegate.prototype.getModificationInfoSync = function (key) {\n        return this.getStrategy().getModificationInfoSync(key);\n    };\n    VisitorDelegate.prototype.synchronizeModifications = function () {\n        return this.getStrategy().synchronizeModifications();\n    };\n    VisitorDelegate.prototype.activateModification = function (params) {\n        return this.getStrategy().activateModification(params);\n    };\n    VisitorDelegate.prototype.activateModificationSync = function (params) {\n        return this.getStrategy().activateModificationSync(params);\n    };\n    VisitorDelegate.prototype.sendHit = function (hit) {\n        return this.getStrategy().sendHit(hit);\n    };\n    VisitorDelegate.prototype.sendHitSync = function (hit) {\n        return this.getStrategy().sendHitSync(hit);\n    };\n    VisitorDelegate.prototype.getAllModifications = function (activate) {\n        if (activate === void 0) { activate = false; }\n        return this.getStrategy().getAllModifications(activate);\n    };\n    VisitorDelegate.prototype.getModificationsForCampaign = function (campaignId, activate) {\n        if (activate === void 0) { activate = false; }\n        return this.getStrategy().getModificationsForCampaign(campaignId, activate);\n    };\n    VisitorDelegate.prototype.authenticate = function (visitorId) {\n        this.getStrategy().authenticate(visitorId);\n        this.updateCache();\n    };\n    VisitorDelegate.prototype.unauthenticate = function () {\n        this.getStrategy().unauthenticate();\n        this.updateCache();\n    };\n    return VisitorDelegate;\n}(VisitorAbstract));\nexport { VisitorDelegate };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { BUCKETING_API_CONTEXT_URL, BUCKETING_API_URL, FlagshipStatus, HEADER_APPLICATION_JSON, HEADER_CONTENT_TYPE, HEADER_X_API_KEY, HEADER_X_SDK_CLIENT, HEADER_X_SDK_VERSION, REQUEST_TIME_OUT, SDK_LANGUAGE, SDK_VERSION } from '../enum/index';\nimport { logError, logInfo, sleep, sprintf } from '../utils/utils';\nimport { DecisionManager } from './DecisionManager';\nvar BucketingManager = /** @class */ (function (_super) {\n    __extends(BucketingManager, _super);\n    function BucketingManager(httpClient, config, murmurHash) {\n        var _this = _super.call(this, httpClient, config) || this;\n        _this._murmurHash = murmurHash;\n        _this._isFirstPooling = true;\n        return _this;\n    }\n    BucketingManager.prototype.initStartPolling = function () {\n        if (this.config.pollingInterval === 0) {\n            this._isPooling = false;\n        }\n        logInfo(this.config, 'Bucketing polling starts', 'startPolling');\n        if (this._isFirstPooling) {\n            this.updateFlagshipStatus(FlagshipStatus.POLLING);\n        }\n    };\n    BucketingManager.prototype.finishLoop = function (response) {\n        if (response.status === 200) {\n            this._bucketingContent = response.body;\n        }\n        if (response.headers && response.headers['last-modified']) {\n            var lastModified = response.headers['last-modified'];\n            if (this._lastModified !== lastModified && this.config.onBucketingUpdated) {\n                this.config.onBucketingUpdated(new Date(lastModified));\n            }\n            this._lastModified = lastModified;\n        }\n        if (this._isFirstPooling) {\n            this._isFirstPooling = false;\n            this.updateFlagshipStatus(FlagshipStatus.READY);\n        }\n        if (typeof this.config.onBucketingSuccess === 'function') {\n            this.config.onBucketingSuccess({ status: response.status, payload: this._bucketingContent });\n        }\n    };\n    BucketingManager.prototype.startPolling = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, error_1;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (this._isPooling) {\n                            return [2 /*return*/];\n                        }\n                        this._isPooling = true;\n                        this.initStartPolling();\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 4, , 5]);\n                        url = sprintf(BUCKETING_API_URL, this.config.envId);\n                        headers = (_b = {},\n                            _b[HEADER_X_API_KEY] = \"\" + this.config.apiKey,\n                            _b[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n                            _b[HEADER_X_SDK_VERSION] = SDK_VERSION,\n                            _b[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n                            _b);\n                        if (this._lastModified) {\n                            headers['if-modified-since'] = this._lastModified;\n                        }\n                        return [4 /*yield*/, this._httpClient.getAsync(url, { headers: headers })];\n                    case 2:\n                        response = _c.sent();\n                        this.finishLoop(response);\n                        return [4 /*yield*/, sleep(((_a = this.config.pollingInterval) !== null && _a !== void 0 ? _a : REQUEST_TIME_OUT) * 1000)];\n                    case 3:\n                        _c.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_1 = _c.sent();\n                        logError(this.config, error_1, 'startPolling dd');\n                        if (this._isFirstPooling) {\n                            this.updateFlagshipStatus(FlagshipStatus.NOT_INITIALIZED);\n                        }\n                        if (typeof this.config.onBucketingFail === 'function') {\n                            this.config.onBucketingFail(new Error(error_1));\n                        }\n                        return [3 /*break*/, 5];\n                    case 5:\n                        if (this._isPooling) return [3 /*break*/, 1];\n                        _c.label = 6;\n                    case 6:\n                        logInfo(this.config, 'Bucketing polling stopped', 'startPolling');\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BucketingManager.prototype.stopPolling = function () {\n        this._isPooling = false;\n    };\n    BucketingManager.prototype.sendContext = function (visitor) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var _a;\n            var url = sprintf(BUCKETING_API_CONTEXT_URL, _this.config.envId);\n            var headers = (_a = {},\n                _a[HEADER_X_API_KEY] = \"\" + _this.config.apiKey,\n                _a[HEADER_X_SDK_CLIENT] = SDK_LANGUAGE,\n                _a[HEADER_X_SDK_VERSION] = SDK_VERSION,\n                _a[HEADER_CONTENT_TYPE] = HEADER_APPLICATION_JSON,\n                _a);\n            var body = {\n                visitorId: visitor.visitorId,\n                type: 'CONTEXT',\n                data: visitor.context\n            };\n            _this._httpClient.postAsync(url, { headers: headers, body: body })\n                .then(function () {\n                resolve();\n            })\n                .catch(function (error) {\n                logError(_this.config, error, 'sendContext');\n            });\n        });\n    };\n    BucketingManager.prototype.getCampaignsAsync = function (visitor) {\n        var _this = this;\n        this.sendContext(visitor);\n        return new Promise(function (resolve) {\n            if (!_this._bucketingContent) {\n                resolve([]);\n                return;\n            }\n            if (_this._bucketingContent.panic) {\n                _this.panic = true;\n                resolve([]);\n                return;\n            }\n            _this.panic = false;\n            if (!_this._bucketingContent.campaigns) {\n                resolve([]);\n                return;\n            }\n            var visitorCampaigns = [];\n            _this._bucketingContent.campaigns.forEach(function (campaign) {\n                var currentCampaigns = _this.getVisitorCampaigns(campaign.variationGroups, campaign.id, visitor);\n                if (currentCampaigns) {\n                    visitorCampaigns.push(currentCampaigns);\n                }\n            });\n            resolve(visitorCampaigns);\n        });\n    };\n    BucketingManager.prototype.getVisitorCampaigns = function (variationGroups, campaignId, visitor) {\n        for (var _i = 0, variationGroups_1 = variationGroups; _i < variationGroups_1.length; _i++) {\n            var variationGroup = variationGroups_1[_i];\n            var check = this.isMatchTargeting(variationGroup, visitor);\n            if (check) {\n                var variations = this.getVariation(variationGroup, visitor.visitorId);\n                if (!variations) {\n                    return null;\n                }\n                return {\n                    id: campaignId,\n                    variation: variations,\n                    variationGroupId: variationGroup.id\n                };\n            }\n        }\n        return null;\n    };\n    BucketingManager.prototype.getVariation = function (variationGroup, visitorId) {\n        var hash = this._murmurHash.murmurHash3Int32(variationGroup.id + visitorId);\n        var hashAllocation = hash % 100;\n        var totalAllocation = 0;\n        for (var _i = 0, _a = variationGroup.variations; _i < _a.length; _i++) {\n            var variation = _a[_i];\n            if (variation.allocation === undefined) {\n                continue;\n            }\n            totalAllocation += variation.allocation;\n            if (hashAllocation < totalAllocation) {\n                return {\n                    id: variation.id,\n                    modifications: variation.modifications,\n                    reference: !!variation.reference\n                };\n            }\n        }\n        return null;\n    };\n    BucketingManager.prototype.isMatchTargeting = function (variationGroup, visitor) {\n        if (!variationGroup || !variationGroup.targeting || !variationGroup.targeting.targetingGroups) {\n            return false;\n        }\n        for (var _i = 0, _a = variationGroup.targeting.targetingGroups; _i < _a.length; _i++) {\n            var targetingGroup = _a[_i];\n            var check = this.checkAndTargeting(targetingGroup.targetings, visitor);\n            if (check) {\n                return true;\n            }\n        }\n        return false;\n    };\n    BucketingManager.prototype.checkAndTargeting = function (targetings, visitor) {\n        var contextValue;\n        var check = false;\n        for (var _i = 0, targetings_1 = targetings; _i < targetings_1.length; _i++) {\n            var targeting = targetings_1[_i];\n            var key = targeting.key;\n            if (key === 'fs_all_users') {\n                check = true;\n                break;\n            }\n            else if (key === 'fs_users') {\n                contextValue = visitor.visitorId;\n            }\n            else {\n                if (!(key in visitor.context)) {\n                    continue;\n                }\n                contextValue = visitor.context[key];\n            }\n            return this.testOperator(targeting.operator, contextValue, targeting.value);\n        }\n        return check;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    BucketingManager.prototype.testOperator = function (operator, contextValue, value) {\n        var check;\n        switch (operator) {\n            case 'EQUALS':\n                check = contextValue === value;\n                break;\n            case 'NOT_EQUALS':\n                check = contextValue !== value;\n                break;\n            case 'CONTAINS':\n                check = new RegExp(\"\" + value.join('|')).test(contextValue.toString());\n                break;\n            case 'NOT_CONTAINS':\n                check = !(new RegExp(\"\" + value.join('|')).test(contextValue.toString()));\n                break;\n            case 'GREATER_THAN':\n                check = contextValue > value;\n                break;\n            case 'LOWER_THAN':\n                check = contextValue < value;\n                break;\n            case 'GREATER_THAN_OR_EQUALS':\n                check = contextValue >= value;\n                break;\n            case 'LOWER_THAN_OR_EQUALS':\n                check = contextValue <= value;\n                break;\n            case 'STARTS_WITH':\n                check = new RegExp(\"^\" + value).test(contextValue.toString());\n                break;\n            case 'ENDS_WITH':\n                check = new RegExp(value + \"$\").test(contextValue.toString());\n                break;\n            default:\n                check = false;\n                break;\n        }\n        return check;\n    };\n    return BucketingManager;\n}(DecisionManager));\nexport { BucketingManager };\n","/* eslint-disable no-fallthrough */\nvar MurmurHash = /** @class */ (function () {\n    function MurmurHash() {\n    }\n    MurmurHash.prototype.murmurHash3Int32 = function (key, seed) {\n        if (seed === void 0) { seed = 0; }\n        var h1, h1b, k1, i;\n        var remainder = key.length & 3; // key.length % 4\n        var bytes = key.length - remainder;\n        h1 = seed;\n        var c1 = 0xcc9e2d51;\n        var c2 = 0x1b873593;\n        i = 0;\n        while (i < bytes) {\n            k1 = (key.charCodeAt(i) & 0xff) | ((key.charCodeAt(++i) & 0xff) << 8) | ((key.charCodeAt(++i) & 0xff) << 16) | ((key.charCodeAt(++i) & 0xff) << 24);\n            ++i;\n            k1 = (((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;\n            k1 = (k1 << 15) | (k1 >>> 17);\n            k1 = (((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;\n            h1 ^= k1;\n            h1 = (h1 << 13) | (h1 >>> 19);\n            h1b = (((h1 & 0xffff) * 5) + ((((h1 >>> 16) * 5) & 0xffff) << 16)) & 0xffffffff;\n            h1 = (((h1b & 0xffff) + 0x6b64) + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16));\n        }\n        k1 = 0;\n        switch (remainder) {\n            case 3: k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;\n            case 2: k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;\n            case 1:\n                k1 ^= (key.charCodeAt(i) & 0xff);\n                k1 = (((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;\n                k1 = (k1 << 15) | (k1 >>> 17);\n                k1 = (((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;\n                h1 ^= k1;\n        }\n        h1 ^= key.length;\n        h1 ^= h1 >>> 16;\n        h1 = (((h1 & 0xffff) * 0x85ebca6b) + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff;\n        h1 ^= h1 >>> 13;\n        h1 = (((h1 & 0xffff) * 0xc2b2ae35) + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) & 0xffffffff;\n        h1 ^= h1 >>> 16;\n        return h1 >>> 0;\n    };\n    return MurmurHash;\n}());\nexport { MurmurHash };\n","import { Visitor } from '../visitor/Visitor';\nimport { FlagshipStatus } from '../enum/FlagshipStatus';\nimport { DecisionMode, FlagshipConfig } from '../config/FlagshipConfig';\nimport { DecisionApiConfig } from '../config/DecisionApiConfig';\nimport { ConfigManager } from '../config/ConfigManager';\nimport { ApiManager } from '../decision/ApiManager';\nimport { TrackingManager } from '../api/TrackingManager';\nimport { HttpClient } from '../utils/NodeHttpClient';\nimport { FlagshipLogManager } from '../utils/FlagshipLogManager';\nimport { logError, logInfo, sprintf } from '../utils/utils';\nimport { INITIALIZATION_PARAM_ERROR, PROCESS_INITIALIZATION, SDK_STARTED_INFO, SDK_VERSION } from '../enum/index';\nimport { VisitorDelegate } from '../visitor/VisitorDelegate';\nimport { BucketingConfig } from '../config/index';\nimport { BucketingManager } from '../decision/BucketingManager';\nimport { MurmurHash } from '../utils/MurmurHash';\nvar Flagship = /** @class */ (function () {\n    // eslint-disable-next-line no-useless-constructor\n    function Flagship() {\n        // singleton\n    }\n    Object.defineProperty(Flagship.prototype, \"config\", {\n        get: function () {\n            return this._config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Flagship.prototype, \"configManager\", {\n        get: function () {\n            return this._configManger;\n        },\n        set: function (value) {\n            this._configManger = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Flagship.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new this();\n        }\n        return this._instance;\n    };\n    /**\n     * Return true if the SDK is properly initialized, otherwise return false\n     */\n    Flagship.isReady = function () {\n        var _a, _b, _c, _d;\n        var apiKey = (_b = (_a = this._instance) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.apiKey;\n        var envId = (_d = (_c = this._instance) === null || _c === void 0 ? void 0 : _c.config) === null || _d === void 0 ? void 0 : _d.envId;\n        return (!!this._instance && !!apiKey && !!envId);\n    };\n    Flagship.prototype.setStatus = function (status) {\n        var statusChanged = this.config.statusChangedCallback;\n        if (this.config && statusChanged && this._status !== status) {\n            this._status = status;\n            statusChanged(status);\n            return;\n        }\n        this._status = status;\n    };\n    /**\n     * Return current status of Flagship SDK.\n     */\n    Flagship.getStatus = function () {\n        return this.getInstance()._status;\n    };\n    /**\n     * Return the current config set by the customer and used by the SDK.\n     */\n    Flagship.getConfig = function () {\n        return this.getInstance()._config;\n    };\n    Flagship.prototype.buildConfig = function (config) {\n        if (config instanceof FlagshipConfig) {\n            return config;\n        }\n        var newConfig;\n        if ((config === null || config === void 0 ? void 0 : config.decisionMode) === DecisionMode.BUCKETING) {\n            newConfig = new BucketingConfig(config);\n        }\n        else {\n            newConfig = new DecisionApiConfig(config);\n        }\n        return newConfig;\n    };\n    Flagship.prototype.buildDecisionManager = function (flagship, config, httpClient) {\n        var decisionManager;\n        var setStatus = function (status) {\n            flagship.setStatus(status);\n        };\n        if (config.decisionMode === DecisionMode.BUCKETING) {\n            decisionManager = new BucketingManager(httpClient, config, new MurmurHash());\n            var bucketingManager = decisionManager;\n            decisionManager.statusChangedCallback(setStatus);\n            bucketingManager.startPolling();\n        }\n        else {\n            decisionManager = new ApiManager(httpClient, config);\n            decisionManager.statusChangedCallback(setStatus);\n        }\n        return decisionManager;\n    };\n    /**\n     * Start the flagship SDK, with a custom configuration implementation\n     * @param {string} envId : Environment id provided by Flagship.\n     * @param {string} apiKey : Secure api key provided by Flagship.\n     * @param {IFlagshipConfig} config : (optional) SDK configuration.\n     */\n    Flagship.start = function (envId, apiKey, config) {\n        var _a;\n        var flagship = this.getInstance();\n        config = flagship.buildConfig(config);\n        config.envId = envId;\n        config.apiKey = apiKey;\n        flagship._config = config;\n        flagship.setStatus(FlagshipStatus.STARTING);\n        // check custom logger\n        if (!config.logManager) {\n            config.logManager = new FlagshipLogManager();\n        }\n        if (!envId || envId === '' || !apiKey || apiKey === '') {\n            flagship.setStatus(FlagshipStatus.NOT_INITIALIZED);\n            logError(config, INITIALIZATION_PARAM_ERROR, PROCESS_INITIALIZATION);\n            return;\n        }\n        var decisionManager = (_a = flagship.configManager) === null || _a === void 0 ? void 0 : _a.decisionManager;\n        if (typeof decisionManager === 'object' && decisionManager instanceof BucketingManager) {\n            decisionManager.stopPolling();\n        }\n        var httpClient = new HttpClient();\n        decisionManager = flagship.buildDecisionManager(flagship, config, httpClient);\n        var trackingManager = new TrackingManager(httpClient, config);\n        if (flagship.configManager) {\n            flagship.configManager.config = config;\n            flagship.configManager.decisionManager = decisionManager;\n            flagship.configManager.trackingManager = trackingManager;\n        }\n        else {\n            flagship.configManager = new ConfigManager(config, decisionManager, trackingManager);\n        }\n        if (this.isReady()) {\n            if (flagship._status === FlagshipStatus.STARTING) {\n                flagship.setStatus(FlagshipStatus.READY);\n            }\n            logInfo(config, sprintf(SDK_STARTED_INFO, SDK_VERSION), PROCESS_INITIALIZATION);\n        }\n        else {\n            flagship.setStatus(FlagshipStatus.NOT_INITIALIZED);\n        }\n    };\n    Flagship.newVisitor = function (params, params2) {\n        var _a, _b;\n        if (!this.isReady()) {\n            return null;\n        }\n        var visitorId;\n        var context;\n        var isAuthenticated = false;\n        var hasConsented = false;\n        if (typeof params === 'string' || params === null) {\n            visitorId = params;\n            context = params2 || {};\n        }\n        else {\n            visitorId = params.visitorId || null;\n            context = params.context || {};\n            isAuthenticated = (_a = params.isAuthenticated) !== null && _a !== void 0 ? _a : false;\n            hasConsented = (_b = params.hasConsented) !== null && _b !== void 0 ? _b : false;\n        }\n        var visitorDelegate = new VisitorDelegate({\n            visitorId: visitorId,\n            context: context,\n            isAuthenticated: isAuthenticated,\n            hasConsented: hasConsented,\n            configManager: this.getInstance().configManager\n        });\n        var visitor = new Visitor(visitorDelegate);\n        if (this.getConfig().fetchNow) {\n            visitor.synchronizeModifications();\n        }\n        return visitor;\n    };\n    return Flagship;\n}());\nexport { Flagship };\n","/**\n     * Current device locale\n     */\nexport var DEVICE_LOCALE = '{\"key\":\"sdk_deviceLanguage\", \"type\":\"string\"}';\n/**\n  * Current device type  tablet, pc, server, iot, other\n\n  */\nexport var DEVICE_TYPE = '{\"key\":\"sdk_deviceType\", \"type\":\"string\"}';\n/**\n  * Current device model\n  */\nexport var DEVICE_MODEL = '{\"key\":\"sdk_deviceModel\", \"type\":\"string\"}';\n/**\n  * Current visitor city\n\n  */\nexport var LOCATION_CITY = '{\"key\":\"sdk_city\", \"type\":\"string\"}';\n/**\n  * Current visitor region\n\n  */\nexport var LOCATION_REGION = '{\"key\":\"sdk_region\", \"type\":\"string\"}';\n/**\n  * Current visitor country\n\n  */\nexport var LOCATION_COUNTRY = '{\"key\":\"sdk_country\", \"type\":\"string\"}';\n/**\n  * Current visitor latitude\n\n  */\nexport var LOCATION_LAT = '{\"key\":\"sdk_lat\", \"type\":\"number\"}';\n/**\n  * Current visitor longitude\n\n  */\nexport var LOCATION_LONG = '{\"key\":\"sdk_long\", \"type\":\"number\"}';\n/**\n  * Device public ip\n\n  */\nexport var IP = '{\"key\":\"sdk_ip\", \"type\":\"string\"}';\n/**\n  * OS name\n\n  */\nexport var OS_NAME = '{\"key\":\"sdk_osName\", \"type\":\"string\"}';\n/**\n  * OS version name\n\n  */\nexport var OS_VERSION_NAME = '{\"key\":\"sdk_osVersionName\", \"type\":\"string\"}';\n/**\n  * OS version code\n\n  */\nexport var OS_VERSION_CODE = '{\"key\":\"sdk_osVersionCode\", \"type\":\"number\"}';\n/**\n  * Carrier operator\n\n  */\nexport var CARRIER_NAME = '{\"key\":\"sdk_carrierName\", \"type\":\"string\"}';\n/**\n  * Internet connection type : 4G, 5G, Fiber\n\n  */\nexport var INTERNET_CONNECTION = '{\"key\":\"sdk_internetConnection\", \"type\":\"string\"}';\n/**\n  * Customer app version name\n\n  */\nexport var APP_VERSION_NAME = '{\"key\":\"sdk_versionName\", \"type\":\"string\"}';\n/**\n  * Customer app version code\n\n  */\nexport var APP_VERSION_CODE = '{\"key\":\"sdk_versionCode\", \"type\":\"number\"}';\n/**\n  * Current customer app interface name\n\n  */\nexport var INTERFACE_NAME = '{\"key\":\"sdk_interfaceName\", \"type\":\"string\"}';\n/**\n  * Flagship SDK client name\n\n  */\nexport var FLAGSHIP_CLIENT = '{\"key\":\"fs_client\", \"type\":\"string\"}';\n/**\n  * Flagship SDK version name\n\n  */\nexport var FLAGSHIP_VERSION = '{\"key\":\"fs_version\", \"type\":\"string\"}';\n/**\n  * Current visitor id\n\n  */\nexport var FLAGSHIP_VISITOR = '{\"key\":\"fs_users\", \"type\":\"string\"}';\n"],"sourceRoot":""}